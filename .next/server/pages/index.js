/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./components/ChatMessage.tsx":
/*!************************************!*\
  !*** ./components/ChatMessage.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ChatMessage\": () => (/* binding */ ChatMessage)\n/* harmony export */ });\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"@emotion/react/jsx-dev-runtime\");\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _codesandbox_sandpack_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @codesandbox/sandpack-react */ \"@codesandbox/sandpack-react\");\n/* harmony import */ var _codesandbox_sandpack_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_codesandbox_sandpack_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var prismjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prismjs */ \"prismjs\");\n/* harmony import */ var prismjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prismjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var prismjs_themes_prism_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prismjs/themes/prism.css */ \"./node_modules/prismjs/themes/prism.css\");\n/* harmony import */ var prismjs_themes_prism_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prismjs_themes_prism_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var prismjs_components_prism_bash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prismjs/components/prism-bash */ \"prismjs/components/prism-bash\");\n/* harmony import */ var prismjs_components_prism_bash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_bash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prismjs/components/prism-javascript */ \"prismjs/components/prism-javascript\");\n/* harmony import */ var prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_javascript__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var prismjs_components_prism_typescript__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prismjs/components/prism-typescript */ \"prismjs/components/prism-typescript\");\n/* harmony import */ var prismjs_components_prism_typescript__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_typescript__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var prismjs_components_prism_python__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prismjs/components/prism-python */ \"prismjs/components/prism-python\");\n/* harmony import */ var prismjs_components_prism_python__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_python__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prismjs_components_prism_json__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prismjs/components/prism-json */ \"prismjs/components/prism-json\");\n/* harmony import */ var prismjs_components_prism_json__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_json__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var prismjs_components_prism_java__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prismjs/components/prism-java */ \"prismjs/components/prism-java\");\n/* harmony import */ var prismjs_components_prism_java__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prismjs_components_prism_java__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mui/icons-material/Clear */ \"@mui/icons-material/Clear\");\n/* harmony import */ var _mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mui/icons-material/ContentCopy */ \"@mui/icons-material/ContentCopy\");\n/* harmony import */ var _mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"@mui/icons-material/Edit\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mui/icons-material/MoreVert */ \"@mui/icons-material/MoreVert\");\n/* harmony import */ var _mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _mui_icons_material_PlayArrowOutlined__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mui/icons-material/PlayArrowOutlined */ \"@mui/icons-material/PlayArrowOutlined\");\n/* harmony import */ var _mui_icons_material_PlayArrowOutlined__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_PlayArrowOutlined__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _mui_icons_material_Replay__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mui/icons-material/Replay */ \"@mui/icons-material/Replay\");\n/* harmony import */ var _mui_icons_material_Replay__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_Replay__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _mui_icons_material_SportsMartialArtsOutlined__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @mui/icons-material/SportsMartialArtsOutlined */ \"@mui/icons-material/SportsMartialArtsOutlined\");\n/* harmony import */ var _mui_icons_material_SportsMartialArtsOutlined__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_SportsMartialArtsOutlined__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _mui_icons_material_StopOutlined__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/icons-material/StopOutlined */ \"@mui/icons-material/StopOutlined\");\n/* harmony import */ var _mui_icons_material_StopOutlined__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_StopOutlined__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/joy */ \"@mui/joy\");\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_mui_joy__WEBPACK_IMPORTED_MODULE_19__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst parseAndHighlightCodeBlocks = (text)=>{\n    const codeBlockRegex = /`{3,}(\\w+)?\\n([\\s\\S]*?)(`{3,}|$)/g;\n    const result = [];\n    let lastIndex = 0;\n    let match;\n    while((match = codeBlockRegex.exec(text)) !== null){\n        const language = match[1] || \"typescript\";\n        const codeBlock = match[2].trim();\n        // Load the specified language if it's not loaded yet\n        // NOTE: this is commented out because it inflates the size of the bundle by 200k\n        // if (!Prism.languages[language]) {\n        //   try {\n        //     require(`prismjs/components/prism-${language}`);\n        //   } catch (e) {\n        //     console.warn(`Prism language '${language}' not found, falling back to 'typescript'`);\n        //   }\n        // }\n        const highlightedCode = prismjs__WEBPACK_IMPORTED_MODULE_3___default().highlight(codeBlock, (prismjs__WEBPACK_IMPORTED_MODULE_3___default().languages)[language] || (prismjs__WEBPACK_IMPORTED_MODULE_3___default().languages.typescript), language);\n        result.push({\n            type: \"text\",\n            content: text.slice(lastIndex, match.index)\n        });\n        result.push({\n            type: \"code\",\n            content: highlightedCode,\n            code: codeBlock,\n            language\n        });\n        lastIndex = match.index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n        result.push({\n            type: \"text\",\n            content: text.slice(lastIndex)\n        });\n    }\n    return result;\n};\nconst copyToClipboard = (text)=>{\n    if (typeof navigator !== \"undefined\") navigator.clipboard.writeText(text).then(()=>console.log(\"Message copied to clipboard\")).catch((err)=>console.error(\"Failed to copy message: \", err));\n};\nfunction RunnableCode({ codeBlock , theme  }) {\n    let config;\n    switch(codeBlock.language){\n        case \"typescript\":\n        case \"javascript\":\n            config = {\n                template: \"vanilla-ts\",\n                files: {\n                    \"/index.ts\": codeBlock.code\n                }\n            };\n            break;\n        case \"html\":\n            config = {\n                template: \"vanilla\",\n                files: {\n                    \"/index.html\": codeBlock.code\n                }\n            };\n            break;\n        default:\n            return null;\n    }\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_codesandbox_sandpack_react__WEBPACK_IMPORTED_MODULE_2__.Sandpack, {\n        ...config,\n        theme: theme.palette.mode === \"dark\" ? \"dark\" : \"dark\",\n        options: {\n            showConsole: true,\n            showConsoleButton: true,\n            showTabs: false,\n            showNavigator: false\n        }\n    }, void 0, false, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatMessageCodeBlock({ codeBlock , theme , sx  }) {\n    const [showSandpack, setShowSandpack] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const handleCopyToClipboard = ()=>copyToClipboard(codeBlock.code);\n    const handleToggleSandpack = ()=>setShowSandpack(!showSandpack);\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Box, {\n        component: \"code\",\n        sx: {\n            position: \"relative\",\n            ...sx || {},\n            mx: 0,\n            p: 1.5,\n            display: \"block\",\n            fontWeight: 500,\n            background: theme.vars.palette.background.level1,\n            \"&:hover > button\": {\n                opacity: 1\n            }\n        },\n        children: [\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.IconButton, {\n                variant: \"plain\",\n                color: \"primary\",\n                onClick: handleCopyToClipboard,\n                sx: {\n                    position: \"absolute\",\n                    top: 0,\n                    right: 0,\n                    zIndex: 10,\n                    p: 0.5,\n                    opacity: 0,\n                    transition: \"opacity 0.3s\"\n                },\n                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_12___default()), {}, void 0, false, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 132,\n                    columnNumber: 7\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 131,\n                columnNumber: 5\n            }, this),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.IconButton, {\n                variant: \"plain\",\n                color: \"primary\",\n                onClick: handleToggleSandpack,\n                sx: {\n                    position: \"absolute\",\n                    top: 0,\n                    right: 50,\n                    zIndex: 10,\n                    p: 0.5,\n                    opacity: 0,\n                    transition: \"opacity 0.3s\"\n                },\n                children: showSandpack ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_StopOutlined__WEBPACK_IMPORTED_MODULE_18___default()), {}, void 0, false, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 23\n                }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_PlayArrowOutlined__WEBPACK_IMPORTED_MODULE_15___default()), {}, void 0, false, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 135,\n                    columnNumber: 46\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 134,\n                columnNumber: 5\n            }, this),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Box, {\n                dangerouslySetInnerHTML: {\n                    __html: codeBlock.content\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 137,\n                columnNumber: 5\n            }, this),\n            showSandpack && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RunnableCode, {\n                codeBlock: codeBlock,\n                theme: theme\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 138,\n                columnNumber: 22\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n        lineNumber: 126,\n        columnNumber: 10\n    }, this);\n}\nfunction prettyModel(model) {\n    if (model.startsWith(\"gpt-4\")) return \"gpt-4\";\n    if (model.startsWith(\"gpt-3.5-turbo\")) return \"3.5-turbo\";\n    return model;\n}\n/**\r\n * ChatMessage component is a customizable chat message UI component that supports\r\n * different roles (user, assistant, and system), text editing, syntax highlighting,\r\n * and code execution using Sandpack for TypeScript, JavaScript, and HTML code blocks.\r\n * The component also provides options for copying code to clipboard and expanding\r\n * or collapsing long user messages.\r\n *\r\n * @param {UiMessage} props.uiMessage - The UI message object containing message data.\r\n * @param {Function} props.onDelete - The function to call when the delete button is clicked.\r\n * @param {Function} props.onEdit - The function to call when the edit button is clicked and the edited text is submitted.\r\n */ function ChatMessage(props) {\n    const theme = (0,_mui_joy__WEBPACK_IMPORTED_MODULE_19__.useTheme)();\n    const message = props.uiMessage;\n    // viewing\n    const [forceExpanded, setForceExpanded] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    // editing\n    const [isHovering, setIsHovering] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [menuAnchor, setMenuAnchor] = react__WEBPACK_IMPORTED_MODULE_1__.useState(null);\n    const [isEditing, setIsEditing] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [editedText, setEditedText] = react__WEBPACK_IMPORTED_MODULE_1__.useState(message.text);\n    const closeMenu = ()=>setMenuAnchor(null);\n    const handleMenuCopy = (e)=>{\n        copyToClipboard(message.text);\n        e.preventDefault();\n        closeMenu();\n    };\n    const handleMenuEdit = (e)=>{\n        if (!isEditing) setEditedText(message.text);\n        setIsEditing(!isEditing);\n        e.preventDefault();\n        closeMenu();\n    };\n    const handleMenuRunAgain = (e)=>{\n        props.onRunAgain();\n        e.preventDefault();\n        closeMenu();\n    };\n    const handleEditTextChanged = (e)=>setEditedText(e.target.value);\n    const handleEditKeyPressed = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            setIsEditing(false);\n            props.onEdit(editedText);\n        }\n    };\n    const handleExpand = ()=>setForceExpanded(true);\n    // theming\n    let background = theme.vars.palette.background.body;\n    let textBackground = undefined;\n    if (message.role === \"system\") {\n        if (message.text.startsWith(\"Error: \") || message.text.startsWith(\"OpenAI API error: \")) {\n            background = theme.vars.palette.danger.softBg;\n        } else background = theme.vars.palette.background.body;\n    } else if (message.sender === \"You\") {\n        background = theme.vars.palette.background.body;\n    } else if (message.role === \"assistant\") {\n        if (message.text.startsWith(\"Error: \") || message.text.startsWith(\"OpenAI API error: \")) {\n            background = theme.vars.palette.danger.softBg;\n        } else background = theme.vars.palette.background.body;\n    }\n    // text box css\n    const chatFontCss = {\n        my: \"auto\",\n        fontFamily: message.role === \"assistant\" ? theme.fontFamily.code : undefined,\n        fontSize: message.role === \"assistant\" ? \"14px\" : \"16px\",\n        lineHeight: 1.75\n    };\n    // user message truncation\n    let collapsedText = message.text;\n    let isCollapsed = false;\n    if (!forceExpanded && message.role === \"user\") {\n        const lines = message.text.split(\"\\n\");\n        if (lines.length > 10) {\n            collapsedText = lines.slice(0, 10).join(\"\\n\");\n            isCollapsed = true;\n        }\n    }\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListItem, {\n        sx: {\n            display: \"flex\",\n            flexDirection: message.sender === \"You\" ? \"row-reverse\" : \"row\",\n            alignItems: \"flex-start\",\n            px: 1,\n            py: 2,\n            background,\n            borderBottom: \"1px solid\",\n            borderBottomColor: `rgba(${theme.vars.palette.neutral.mainChannel} / 0.1)`\n        },\n        children: [\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Stack, {\n                sx: {\n                    alignItems: \"center\",\n                    minWidth: 64,\n                    textAlign: \"center\"\n                },\n                onMouseEnter: ()=>setIsHovering(true),\n                onMouseLeave: ()=>setIsHovering(false),\n                onClick: (event)=>setMenuAnchor(event.currentTarget),\n                children: [\n                    isHovering ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.IconButton, {\n                        variant: \"soft\",\n                        color: \"primary\",\n                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_14___default()), {}, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 265,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 264,\n                        columnNumber: 11\n                    }, this) : typeof message.avatar === \"string\" ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Avatar, {\n                        alt: message.sender,\n                        src: message.avatar\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 15\n                    }, this) : message.avatar != null ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(message.avatar, {\n                        sx: {\n                            width: 40,\n                            height: 40\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 271,\n                        columnNumber: 17\n                    }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_SportsMartialArtsOutlined__WEBPACK_IMPORTED_MODULE_17___default()), {\n                        sx: {\n                            width: 40,\n                            height: 40\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 272,\n                        columnNumber: 17\n                    }, this),\n                    !!menuAnchor && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Menu, {\n                        open: true,\n                        anchorEl: menuAnchor,\n                        onClose: closeMenu,\n                        sx: {\n                            minWidth: 200\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.MenuItem, {\n                                onClick: handleMenuCopy,\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListItemDecorator, {\n                                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_12___default()), {}, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 286,\n                                            columnNumber: 34\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 286,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Copy\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.MenuItem, {\n                                onClick: handleMenuEdit,\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListItemDecorator, {\n                                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_13___default()), {}, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 34\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 290,\n                                        columnNumber: 15\n                                    }, this),\n                                    isEditing ? \"Discard\" : \"Edit\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 289,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListDivider, {}, void 0, false, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 293,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.MenuItem, {\n                                onClick: handleMenuRunAgain,\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListItemDecorator, {\n                                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_Replay__WEBPACK_IMPORTED_MODULE_16___default()), {}, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 295,\n                                            columnNumber: 34\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 295,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Restart\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 294,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.MenuItem, {\n                                onClick: props.onDelete,\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.ListItemDecorator, {\n                                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_Clear__WEBPACK_IMPORTED_MODULE_11___default()), {}, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 299,\n                                            columnNumber: 34\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 299,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Delete\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 298,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 284,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 259,\n                columnNumber: 7\n            }, this),\n            isEditing ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Textarea, {\n                variant: \"soft\",\n                color: \"primary\",\n                autoFocus: true,\n                minRows: 1,\n                value: editedText,\n                onChange: handleEditTextChanged,\n                onKeyDown: handleEditKeyPressed,\n                sx: {\n                    ...chatFontCss,\n                    flexGrow: 1\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 312,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Box, {\n                sx: {\n                    ...chatFontCss,\n                    flexGrow: 0,\n                    whiteSpace: \"break-spaces\"\n                },\n                children: [\n                    parseAndHighlightCodeBlocks(collapsedText).map((part, index)=>part.type === \"code\" ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatMessageCodeBlock, {\n                            codeBlock: part,\n                            theme: theme,\n                            sx: chatFontCss\n                        }, index, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 321,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Typography, {\n                            level: \"body1\",\n                            component: \"span\",\n                            sx: {\n                                ...chatFontCss,\n                                mx: 1.5,\n                                background: textBackground\n                            },\n                            children: part.content\n                        }, index, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 323,\n                            columnNumber: 15\n                        }, this)),\n                    isCollapsed && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_19__.Button, {\n                        variant: \"plain\",\n                        onClick: handleExpand,\n                        children: \"... expand ...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 330,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 318,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\ChatMessage.tsx\",\n        lineNumber: 249,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtrREFBQyxxRkFBQ2QsbUVBQVNBOzs7Ozs7Ozs7O29DQUF1Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVczRHVHLDBCQUVDLHVFQUFDckYsK0NBQVFBO2dCQUFDK0QsU0FBUTtnQkFBT0MsT0FBTTtnQkFBVWdGLFNBQVM7Z0JBQUNDLFNBQVM7Z0JBQzFEL0MsT0FBT1g7Z0JBQVkyRCxVQUFVbEQ7Z0JBQXVCbUQsV0FBV2hEO2dCQUMvRHBELElBQUk7b0JBQUUsR0FBR2dFLFdBQVc7b0JBQUVxQyxVQUFVO2dCQUFFOzs7OztxQ0FJcEMsdUVBQUM3SiwwQ0FBR0E7Z0JBQUN3RCxJQUFJO29CQUFFLEdBQUdnRSxXQUFXO29CQUFFcUMsVUFBVTtvQkFBR0MsWUFBWTtnQkFBZTs7b0JBQ2hFbEosNEJBQTRCaUgsZUFBZWtDLEdBQUcsQ0FBQyxDQUFDQyxNQUFNbEksUUFDckRrSSxLQUFLckksSUFBSSxLQUFLLHVCQUNaLHVFQUFDNEI7NEJBQWlDbkMsV0FBVzRJOzRCQUFNcEgsT0FBT0E7NEJBQU9ZLElBQUlnRTsyQkFBMUMxRjs7OztpREFFM0IsdUVBQUNwQixpREFBVUE7NEJBQWF1SixPQUFNOzRCQUFRbkcsV0FBVTs0QkFDOUNOLElBQUk7Z0NBQUUsR0FBR2dFLFdBQVc7Z0NBQUV4RCxJQUFJO2dDQUFLSSxZQUFZOEM7NEJBQWU7c0NBQ3pEOEMsS0FBS3BJLE9BQU87MkJBRkVFOzs7O2dDQUlsQjtvQkFFRmdHLDZCQUNDLHVFQUFDN0gsNkNBQU1BO3dCQUFDdUUsU0FBUTt3QkFBUUUsU0FBU3NDO2tDQUFjOzs7Ozs7Ozs7OztvQkFNcEQ7Ozs7Ozs7QUFJUCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWNoYXRncHQtYXBwLy4vY29tcG9uZW50cy9DaGF0TWVzc2FnZS50c3g/NzdmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFNhbmRwYWNrIH0gZnJvbSAnQGNvZGVzYW5kYm94L3NhbmRwYWNrLXJlYWN0JztcclxuXHJcbmltcG9ydCBQcmlzbSBmcm9tICdwcmlzbWpzJztcclxuaW1wb3J0ICdwcmlzbWpzL3RoZW1lcy9wcmlzbS5jc3MnO1xyXG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1iYXNoJztcclxuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tamF2YXNjcmlwdCc7XHJcbmltcG9ydCAncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLXR5cGVzY3JpcHQnO1xyXG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1weXRob24nO1xyXG5pbXBvcnQgJ3ByaXNtanMvY29tcG9uZW50cy9wcmlzbS1qc29uJztcclxuaW1wb3J0ICdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tamF2YSc7XHJcblxyXG5pbXBvcnQgQ2xlYXJJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xlYXInO1xyXG5pbXBvcnQgQ29udGVudENvcHlJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29udGVudENvcHknO1xyXG5pbXBvcnQgRWRpdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FZGl0JztcclxuaW1wb3J0IE1vcmVWZXJ0SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL01vcmVWZXJ0JztcclxuaW1wb3J0IFBsYXlBcnJvd091dGxpbmVkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1BsYXlBcnJvd091dGxpbmVkJztcclxuaW1wb3J0IFJlcGxheUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9SZXBsYXknO1xyXG5pbXBvcnQgU3BvcnRzTWFydGlhbEFydHNPdXRsaW5lZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TcG9ydHNNYXJ0aWFsQXJ0c091dGxpbmVkJztcclxuaW1wb3J0IFN0b3BPdXRsaW5lZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TdG9wT3V0bGluZWQnO1xyXG5pbXBvcnQgeyBBdmF0YXIsIEJveCwgQnV0dG9uLCBJY29uQnV0dG9uLCBMaXN0RGl2aWRlciwgTGlzdEl0ZW0sIExpc3RJdGVtRGVjb3JhdG9yLCBNZW51LCBNZW51SXRlbSwgU3RhY2ssIFRleHRhcmVhLCBUb29sdGlwLCBUeXBvZ3JhcGh5LCB1c2VUaGVtZSB9IGZyb20gJ0BtdWkvam95JztcclxuaW1wb3J0IHsgU3hQcm9wcywgVGhlbWUgfSBmcm9tICdAbXVpL2pveS9zdHlsZXMvdHlwZXMnO1xyXG5cclxuXHJcbi8vIE9uZSBtZXNzYWdlIGluIHRoZSBjaGF0XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVpTWVzc2FnZSB7XHJcbiAgdWlkOiBzdHJpbmc7XHJcbiAgc2VuZGVyOiAnWW91JyB8ICdCb3QnIHwgc3RyaW5nO1xyXG4gIHJvbGU6ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbScgfCAndXNlcic7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIG1vZGVsOiBzdHJpbmc7IC8vIG9wdGlvbmFsIGZvciAnYXNzaXN0YW50JyByb2xlcyAobm90IHVzZXIgbWVzc2FnZXMpXHJcbiAgYXZhdGFyOiBzdHJpbmcgfCBSZWFjdC5FbGVtZW50VHlwZSB8IG51bGw7XHJcbn1cclxuXHJcblxyXG4vLy8gVXRpbGl0aWVzIHRvIHNwbGl0IHRoZSBtZXNzYWdlIGludG8gYmxvY2tzIG9mIHRleHQgYW5kIGNvZGVcclxuXHJcbnR5cGUgTWVzc2FnZUJsb2NrID0geyB0eXBlOiAndGV4dCc7IGNvbnRlbnQ6IHN0cmluZzsgfSB8IENvZGVNZXNzYWdlQmxvY2s7XHJcbnR5cGUgQ29kZU1lc3NhZ2VCbG9jayA9IHsgdHlwZTogJ2NvZGUnOyBjb250ZW50OiBzdHJpbmc7IGNvZGU6IHN0cmluZzsgbGFuZ3VhZ2U6IHN0cmluZzsgfTtcclxuXHJcbmNvbnN0IHBhcnNlQW5kSGlnaGxpZ2h0Q29kZUJsb2NrcyA9ICh0ZXh0OiBzdHJpbmcpOiBNZXNzYWdlQmxvY2tbXSA9PiB7XHJcbiAgY29uc3QgY29kZUJsb2NrUmVnZXggPSAvYHszLH0oXFx3Kyk/XFxuKFtcXHNcXFNdKj8pKGB7Myx9fCQpL2c7XHJcbiAgY29uc3QgcmVzdWx0OiBNZXNzYWdlQmxvY2tbXSA9IFtdO1xyXG5cclxuICBsZXQgbGFzdEluZGV4ID0gMDtcclxuICBsZXQgbWF0Y2g7XHJcblxyXG4gIHdoaWxlICgobWF0Y2ggPSBjb2RlQmxvY2tSZWdleC5leGVjKHRleHQpKSAhPT0gbnVsbCkge1xyXG4gICAgY29uc3QgbGFuZ3VhZ2UgPSBtYXRjaFsxXSB8fCAndHlwZXNjcmlwdCc7XHJcbiAgICBjb25zdCBjb2RlQmxvY2sgPSBtYXRjaFsyXS50cmltKCk7XHJcblxyXG4gICAgLy8gTG9hZCB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlIGlmIGl0J3Mgbm90IGxvYWRlZCB5ZXRcclxuICAgIC8vIE5PVEU6IHRoaXMgaXMgY29tbWVudGVkIG91dCBiZWNhdXNlIGl0IGluZmxhdGVzIHRoZSBzaXplIG9mIHRoZSBidW5kbGUgYnkgMjAwa1xyXG4gICAgLy8gaWYgKCFQcmlzbS5sYW5ndWFnZXNbbGFuZ3VhZ2VdKSB7XHJcbiAgICAvLyAgIHRyeSB7XHJcbiAgICAvLyAgICAgcmVxdWlyZShgcHJpc21qcy9jb21wb25lbnRzL3ByaXNtLSR7bGFuZ3VhZ2V9YCk7XHJcbiAgICAvLyAgIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vICAgICBjb25zb2xlLndhcm4oYFByaXNtIGxhbmd1YWdlICcke2xhbmd1YWdlfScgbm90IGZvdW5kLCBmYWxsaW5nIGJhY2sgdG8gJ3R5cGVzY3JpcHQnYCk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25zdCBoaWdobGlnaHRlZENvZGUgPSBQcmlzbS5oaWdobGlnaHQoXHJcbiAgICAgIGNvZGVCbG9jayxcclxuICAgICAgUHJpc20ubGFuZ3VhZ2VzW2xhbmd1YWdlXSB8fCBQcmlzbS5sYW5ndWFnZXMudHlwZXNjcmlwdCxcclxuICAgICAgbGFuZ3VhZ2UsXHJcbiAgICApO1xyXG4gICAgcmVzdWx0LnB1c2goeyB0eXBlOiAndGV4dCcsIGNvbnRlbnQ6IHRleHQuc2xpY2UobGFzdEluZGV4LCBtYXRjaC5pbmRleCkgfSk7XHJcbiAgICByZXN1bHQucHVzaCh7IHR5cGU6ICdjb2RlJywgY29udGVudDogaGlnaGxpZ2h0ZWRDb2RlLCBjb2RlOiBjb2RlQmxvY2ssIGxhbmd1YWdlIH0pO1xyXG4gICAgbGFzdEluZGV4ID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBpZiAobGFzdEluZGV4IDwgdGV4dC5sZW5ndGgpIHtcclxuICAgIHJlc3VsdC5wdXNoKHsgdHlwZTogJ3RleHQnLCBjb250ZW50OiB0ZXh0LnNsaWNlKGxhc3RJbmRleCkgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG5cclxuY29uc3QgY29weVRvQ2xpcGJvYXJkID0gKHRleHQ6IHN0cmluZykgPT4ge1xyXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJylcclxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpXHJcbiAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKCdNZXNzYWdlIGNvcGllZCB0byBjbGlwYm9hcmQnKSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb3B5IG1lc3NhZ2U6ICcsIGVycikpO1xyXG59O1xyXG5cclxuXHJcbi8vLyBSZW5kZXJlcnMgZm9yIHRoZSBkaWZmZXJlbnQgdHlwZXMgb2YgbWVzc2FnZSBibG9ja3NcclxuXHJcbnR5cGUgU2FuZHBhY2tDb25maWcgPSB7IHRlbXBsYXRlOiAndmFuaWxsYS10cycgfCAndmFuaWxsYScsIGZpbGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IH07XHJcblxyXG5mdW5jdGlvbiBSdW5uYWJsZUNvZGUoeyBjb2RlQmxvY2ssIHRoZW1lIH06IHsgY29kZUJsb2NrOiBDb2RlTWVzc2FnZUJsb2NrLCB0aGVtZTogVGhlbWUgfSk6IEpTWC5FbGVtZW50IHwgbnVsbCB7XHJcbiAgbGV0IGNvbmZpZzogU2FuZHBhY2tDb25maWc7XHJcbiAgc3dpdGNoIChjb2RlQmxvY2subGFuZ3VhZ2UpIHtcclxuICAgIGNhc2UgJ3R5cGVzY3JpcHQnOlxyXG4gICAgY2FzZSAnamF2YXNjcmlwdCc6XHJcbiAgICAgIGNvbmZpZyA9IHtcclxuICAgICAgICB0ZW1wbGF0ZTogJ3ZhbmlsbGEtdHMnLFxyXG4gICAgICAgIGZpbGVzOiB7ICcvaW5kZXgudHMnOiBjb2RlQmxvY2suY29kZSB9LFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2h0bWwnOlxyXG4gICAgICBjb25maWcgPSB7XHJcbiAgICAgICAgdGVtcGxhdGU6ICd2YW5pbGxhJyxcclxuICAgICAgICBmaWxlczogeyAnL2luZGV4Lmh0bWwnOiBjb2RlQmxvY2suY29kZSB9LFxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuICByZXR1cm4gKFxyXG4gICAgPFNhbmRwYWNrIHsuLi5jb25maWd9IHRoZW1lPXt0aGVtZS5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/ICdkYXJrJyA6ICdkYXJrJ31cclxuICAgICAgb3B0aW9ucz17eyBzaG93Q29uc29sZTogdHJ1ZSwgc2hvd0NvbnNvbGVCdXR0b246IHRydWUsIHNob3dUYWJzOiBmYWxzZSwgc2hvd05hdmlnYXRvcjogZmFsc2UgfX0gLz5cclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBDaGF0TWVzc2FnZUNvZGVCbG9jayh7IGNvZGVCbG9jaywgdGhlbWUsIHN4IH06IHsgY29kZUJsb2NrOiBDb2RlTWVzc2FnZUJsb2NrLCB0aGVtZTogVGhlbWUsIHN4PzogU3hQcm9wcyB9KSB7XHJcbiAgY29uc3QgW3Nob3dTYW5kcGFjaywgc2V0U2hvd1NhbmRwYWNrXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29weVRvQ2xpcGJvYXJkID0gKCkgPT5cclxuICAgIGNvcHlUb0NsaXBib2FyZChjb2RlQmxvY2suY29kZSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvZ2dsZVNhbmRwYWNrID0gKCkgPT5cclxuICAgIHNldFNob3dTYW5kcGFjayghc2hvd1NhbmRwYWNrKTtcclxuXHJcbiAgcmV0dXJuIDxCb3ggY29tcG9uZW50PSdjb2RlJyBzeD17e1xyXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZScsIC4uLihzeCB8fCB7fSksIG14OiAwLCBwOiAxLjUsXHJcbiAgICBkaXNwbGF5OiAnYmxvY2snLCBmb250V2VpZ2h0OiA1MDAsIGJhY2tncm91bmQ6IHRoZW1lLnZhcnMucGFsZXR0ZS5iYWNrZ3JvdW5kLmxldmVsMSxcclxuICAgICcmOmhvdmVyID4gYnV0dG9uJzogeyBvcGFjaXR5OiAxIH0sXHJcbiAgfX0+XHJcbiAgICA8SWNvbkJ1dHRvbiB2YXJpYW50PSdwbGFpbicgY29sb3I9J3ByaW1hcnknIG9uQ2xpY2s9e2hhbmRsZUNvcHlUb0NsaXBib2FyZH0gc3g9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgcmlnaHQ6IDAsIHpJbmRleDogMTAsIHA6IDAuNSwgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4zcycgfX0+XHJcbiAgICAgIDxDb250ZW50Q29weUljb24gLz5cclxuICAgIDwvSWNvbkJ1dHRvbj5cclxuICAgIDxJY29uQnV0dG9uIHZhcmlhbnQ9J3BsYWluJyBjb2xvcj0ncHJpbWFyeScgb25DbGljaz17aGFuZGxlVG9nZ2xlU2FuZHBhY2t9IHN4PXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIHJpZ2h0OiA1MCwgekluZGV4OiAxMCwgcDogMC41LCBvcGFjaXR5OiAwLCB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjNzJyB9fT5cclxuICAgICAge3Nob3dTYW5kcGFjayA/IDxTdG9wT3V0bGluZWRJY29uIC8+IDogPFBsYXlBcnJvd091dGxpbmVkSWNvbiAvPn1cclxuICAgIDwvSWNvbkJ1dHRvbj5cclxuICAgIDxCb3ggZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBjb2RlQmxvY2suY29udGVudCB9fSAvPlxyXG4gICAge3Nob3dTYW5kcGFjayAmJiA8UnVubmFibGVDb2RlIGNvZGVCbG9jaz17Y29kZUJsb2NrfSB0aGVtZT17dGhlbWV9IC8+fVxyXG4gIDwvQm94PjtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJldHR5TW9kZWwobW9kZWw6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgaWYgKG1vZGVsLnN0YXJ0c1dpdGgoJ2dwdC00JykpIHJldHVybiAnZ3B0LTQnO1xyXG4gIGlmIChtb2RlbC5zdGFydHNXaXRoKCdncHQtMy41LXR1cmJvJykpIHJldHVybiAnMy41LXR1cmJvJztcclxuICByZXR1cm4gbW9kZWw7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hhdE1lc3NhZ2UgY29tcG9uZW50IGlzIGEgY3VzdG9taXphYmxlIGNoYXQgbWVzc2FnZSBVSSBjb21wb25lbnQgdGhhdCBzdXBwb3J0c1xyXG4gKiBkaWZmZXJlbnQgcm9sZXMgKHVzZXIsIGFzc2lzdGFudCwgYW5kIHN5c3RlbSksIHRleHQgZWRpdGluZywgc3ludGF4IGhpZ2hsaWdodGluZyxcclxuICogYW5kIGNvZGUgZXhlY3V0aW9uIHVzaW5nIFNhbmRwYWNrIGZvciBUeXBlU2NyaXB0LCBKYXZhU2NyaXB0LCBhbmQgSFRNTCBjb2RlIGJsb2Nrcy5cclxuICogVGhlIGNvbXBvbmVudCBhbHNvIHByb3ZpZGVzIG9wdGlvbnMgZm9yIGNvcHlpbmcgY29kZSB0byBjbGlwYm9hcmQgYW5kIGV4cGFuZGluZ1xyXG4gKiBvciBjb2xsYXBzaW5nIGxvbmcgdXNlciBtZXNzYWdlcy5cclxuICpcclxuICogQHBhcmFtIHtVaU1lc3NhZ2V9IHByb3BzLnVpTWVzc2FnZSAtIFRoZSBVSSBtZXNzYWdlIG9iamVjdCBjb250YWluaW5nIG1lc3NhZ2UgZGF0YS5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcHMub25EZWxldGUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBkZWxldGUgYnV0dG9uIGlzIGNsaWNrZWQuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BzLm9uRWRpdCAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGVkaXQgYnV0dG9uIGlzIGNsaWNrZWQgYW5kIHRoZSBlZGl0ZWQgdGV4dCBpcyBzdWJtaXR0ZWQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ2hhdE1lc3NhZ2UocHJvcHM6IHsgdWlNZXNzYWdlOiBVaU1lc3NhZ2UsIG9uRGVsZXRlOiAoKSA9PiB2b2lkLCBvbkVkaXQ6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWQsIG9uUnVuQWdhaW46ICgpID0+IHZvaWQgfSkge1xyXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcclxuICBjb25zdCBtZXNzYWdlID0gcHJvcHMudWlNZXNzYWdlO1xyXG5cclxuICAvLyB2aWV3aW5nXHJcbiAgY29uc3QgW2ZvcmNlRXhwYW5kZWQsIHNldEZvcmNlRXhwYW5kZWRdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBlZGl0aW5nXHJcbiAgY29uc3QgW2lzSG92ZXJpbmcsIHNldElzSG92ZXJpbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFttZW51QW5jaG9yLCBzZXRNZW51QW5jaG9yXSA9IFJlYWN0LnVzZVN0YXRlPEhUTUxFbGVtZW50IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzRWRpdGluZywgc2V0SXNFZGl0aW5nXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZWRpdGVkVGV4dCwgc2V0RWRpdGVkVGV4dF0gPSBSZWFjdC51c2VTdGF0ZShtZXNzYWdlLnRleHQpO1xyXG5cclxuXHJcbiAgY29uc3QgY2xvc2VNZW51ID0gKCkgPT4gc2V0TWVudUFuY2hvcihudWxsKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUNvcHkgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xyXG4gICAgY29weVRvQ2xpcGJvYXJkKG1lc3NhZ2UudGV4dCk7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjbG9zZU1lbnUoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVNZW51RWRpdCA9IChlOiBSZWFjdC5Nb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWlzRWRpdGluZylcclxuICAgICAgc2V0RWRpdGVkVGV4dChtZXNzYWdlLnRleHQpO1xyXG4gICAgc2V0SXNFZGl0aW5nKCFpc0VkaXRpbmcpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY2xvc2VNZW51KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudVJ1bkFnYWluID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIHByb3BzLm9uUnVuQWdhaW4oKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNsb3NlTWVudSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUVkaXRUZXh0Q2hhbmdlZCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MVGV4dEFyZWFFbGVtZW50PikgPT5cclxuICAgIHNldEVkaXRlZFRleHQoZS50YXJnZXQudmFsdWUpO1xyXG5cclxuICBjb25zdCBoYW5kbGVFZGl0S2V5UHJlc3NlZCA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xyXG4gICAgICBwcm9wcy5vbkVkaXQoZWRpdGVkVGV4dCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGhhbmRsZUV4cGFuZCA9ICgpID0+IHNldEZvcmNlRXhwYW5kZWQodHJ1ZSk7XHJcblxyXG5cclxuICAvLyB0aGVtaW5nXHJcbiAgbGV0IGJhY2tncm91bmQgPSB0aGVtZS52YXJzLnBhbGV0dGUuYmFja2dyb3VuZC5ib2R5O1xyXG4gIGxldCB0ZXh0QmFja2dyb3VuZDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gIGlmIChtZXNzYWdlLnJvbGUgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICBpZiAobWVzc2FnZS50ZXh0LnN0YXJ0c1dpdGgoJ0Vycm9yOiAnKSB8fCBtZXNzYWdlLnRleHQuc3RhcnRzV2l0aCgnT3BlbkFJIEFQSSBlcnJvcjogJykpIHtcclxuICAgICAgYmFja2dyb3VuZCA9IHRoZW1lLnZhcnMucGFsZXR0ZS5kYW5nZXIuc29mdEJnO1xyXG4gICAgfSBlbHNlXHJcbiAgICAgIGJhY2tncm91bmQgPSB0aGVtZS52YXJzLnBhbGV0dGUuYmFja2dyb3VuZC5ib2R5O1xyXG4gIH0gZWxzZSBpZiAobWVzc2FnZS5zZW5kZXIgPT09ICdZb3UnKSB7XHJcbiAgICBiYWNrZ3JvdW5kID0gdGhlbWUudmFycy5wYWxldHRlLmJhY2tncm91bmQuYm9keTtcclxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xyXG4gICAgaWYgKG1lc3NhZ2UudGV4dC5zdGFydHNXaXRoKCdFcnJvcjogJykgfHwgbWVzc2FnZS50ZXh0LnN0YXJ0c1dpdGgoJ09wZW5BSSBBUEkgZXJyb3I6ICcpKSB7XHJcbiAgICAgIGJhY2tncm91bmQgPSB0aGVtZS52YXJzLnBhbGV0dGUuZGFuZ2VyLnNvZnRCZztcclxuICAgIH0gZWxzZVxyXG4gICAgICBiYWNrZ3JvdW5kID0gdGhlbWUudmFycy5wYWxldHRlLmJhY2tncm91bmQuYm9keTtcclxuICB9XHJcblxyXG4gIC8vIHRleHQgYm94IGNzc1xyXG4gIGNvbnN0IGNoYXRGb250Q3NzID0ge1xyXG4gICAgbXk6ICdhdXRvJyxcclxuICAgIGZvbnRGYW1pbHk6IG1lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCcgPyB0aGVtZS5mb250RmFtaWx5LmNvZGUgOiB1bmRlZmluZWQsXHJcbiAgICBmb250U2l6ZTogbWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyA/ICcxNHB4JyA6ICcxNnB4JyxcclxuICAgIGxpbmVIZWlnaHQ6IDEuNzUsXHJcbiAgfTtcclxuXHJcbiAgLy8gdXNlciBtZXNzYWdlIHRydW5jYXRpb25cclxuICBsZXQgY29sbGFwc2VkVGV4dCA9IG1lc3NhZ2UudGV4dDtcclxuICBsZXQgaXNDb2xsYXBzZWQgPSBmYWxzZTtcclxuICBpZiAoIWZvcmNlRXhwYW5kZWQgJiYgbWVzc2FnZS5yb2xlID09PSAndXNlcicpIHtcclxuICAgIGNvbnN0IGxpbmVzID0gbWVzc2FnZS50ZXh0LnNwbGl0KCdcXG4nKTtcclxuICAgIGlmIChsaW5lcy5sZW5ndGggPiAxMCkge1xyXG4gICAgICBjb2xsYXBzZWRUZXh0ID0gbGluZXMuc2xpY2UoMCwgMTApLmpvaW4oJ1xcbicpO1xyXG4gICAgICBpc0NvbGxhcHNlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxMaXN0SXRlbSBzeD17e1xyXG4gICAgICBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246IG1lc3NhZ2Uuc2VuZGVyID09PSAnWW91JyA/ICdyb3ctcmV2ZXJzZScgOiAncm93JywgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxyXG4gICAgICBweDogMSwgcHk6IDIsXHJcbiAgICAgIGJhY2tncm91bmQsXHJcbiAgICAgIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCcsXHJcbiAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiBgcmdiYSgke3RoZW1lLnZhcnMucGFsZXR0ZS5uZXV0cmFsLm1haW5DaGFubmVsfSAvIDAuMSlgLFxyXG4gICAgfX0+XHJcblxyXG4gICAgICB7LyogQXV0aG9yICovfVxyXG5cclxuICAgICAgPFN0YWNrIHN4PXt7IGFsaWduSXRlbXM6ICdjZW50ZXInLCBtaW5XaWR0aDogNjQsIHRleHRBbGlnbjogJ2NlbnRlcicgfX1cclxuICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNldElzSG92ZXJpbmcodHJ1ZSl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SXNIb3ZlcmluZyhmYWxzZSl9XHJcbiAgICAgICAgb25DbGljaz17ZXZlbnQgPT4gc2V0TWVudUFuY2hvcihldmVudC5jdXJyZW50VGFyZ2V0KX0+XHJcblxyXG4gICAgICAgIHtpc0hvdmVyaW5nID8gKFxyXG4gICAgICAgICAgPEljb25CdXR0b24gdmFyaWFudD0nc29mdCcgY29sb3I9J3ByaW1hcnknPlxyXG4gICAgICAgICAgICA8TW9yZVZlcnRJY29uIC8+XHJcbiAgICAgICAgICA8L0ljb25CdXR0b24+XHJcbiAgICAgICAgKSA6IChcclxuICAgICAgICAgIHR5cGVvZiBtZXNzYWdlLmF2YXRhciA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgPyA8QXZhdGFyIGFsdD17bWVzc2FnZS5zZW5kZXJ9IHNyYz17bWVzc2FnZS5hdmF0YXJ9IC8+XHJcbiAgICAgICAgICAgIDogKG1lc3NhZ2UuYXZhdGFyICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgPyA8bWVzc2FnZS5hdmF0YXIgc3g9e3sgd2lkdGg6IDQwLCBoZWlnaHQ6IDQwIH19IC8+XHJcbiAgICAgICAgICAgICAgOiA8U3BvcnRzTWFydGlhbEFydHNPdXRsaW5lZEljb24gc3g9e3sgd2lkdGg6IDQwLCBoZWlnaHQ6IDQwIH19IC8+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIHttZXNzYWdlLnJvbGUgPT09ICdzeXN0ZW0nICYmICg8VHlwb2dyYXBoeSBsZXZlbD0nYm9keTInIGNvbG9yPSduZXV0cmFsJz5zeXN0ZW08L1R5cG9ncmFwaHk+KX1cclxuICAgICAgICB7bWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiAoXHJcbiAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17bWVzc2FnZS5tb2RlbH0gdmFyaWFudD0nc29saWQnPlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeSBsZXZlbD0nYm9keTInIGNvbG9yPSduZXV0cmFsJz57cHJldHR5TW9kZWwobWVzc2FnZS5tb2RlbCl9PC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgICl9ICovfVxyXG5cclxuICAgICAgICB7LyogbWVzc2FnZSBvcGVyYXRpb25zIG1lbnUgKGZsb2F0aW5nKSAqL31cclxuICAgICAgICB7ISFtZW51QW5jaG9yICYmIChcclxuICAgICAgICAgIDxNZW51IG9wZW4gYW5jaG9yRWw9e21lbnVBbmNob3J9IG9uQ2xvc2U9e2Nsb3NlTWVudX0gc3g9e3sgbWluV2lkdGg6IDIwMCB9fT5cclxuICAgICAgICAgICAgPE1lbnVJdGVtIG9uQ2xpY2s9e2hhbmRsZU1lbnVDb3B5fT5cclxuICAgICAgICAgICAgICA8TGlzdEl0ZW1EZWNvcmF0b3I+PENvbnRlbnRDb3B5SWNvbiAvPjwvTGlzdEl0ZW1EZWNvcmF0b3I+XHJcbiAgICAgICAgICAgICAgQ29weVxyXG4gICAgICAgICAgICA8L01lbnVJdGVtPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW0gb25DbGljaz17aGFuZGxlTWVudUVkaXR9PlxyXG4gICAgICAgICAgICAgIDxMaXN0SXRlbURlY29yYXRvcj48RWRpdEljb24gLz48L0xpc3RJdGVtRGVjb3JhdG9yPlxyXG4gICAgICAgICAgICAgIHtpc0VkaXRpbmcgPyAnRGlzY2FyZCcgOiAnRWRpdCd9XHJcbiAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICAgIDxMaXN0RGl2aWRlciAvPlxyXG4gICAgICAgICAgICA8TWVudUl0ZW0gb25DbGljaz17aGFuZGxlTWVudVJ1bkFnYWlufT5cclxuICAgICAgICAgICAgICA8TGlzdEl0ZW1EZWNvcmF0b3I+PFJlcGxheUljb24gLz48L0xpc3RJdGVtRGVjb3JhdG9yPlxyXG4gICAgICAgICAgICAgIFJlc3RhcnRcclxuICAgICAgICAgICAgPC9NZW51SXRlbT5cclxuICAgICAgICAgICAgPE1lbnVJdGVtIG9uQ2xpY2s9e3Byb3BzLm9uRGVsZXRlfT5cclxuICAgICAgICAgICAgICA8TGlzdEl0ZW1EZWNvcmF0b3I+PENsZWFySWNvbiAvPjwvTGlzdEl0ZW1EZWNvcmF0b3I+XHJcbiAgICAgICAgICAgICAgRGVsZXRlXHJcbiAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICA8L01lbnU+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgIDwvU3RhY2s+XHJcblxyXG5cclxuICAgICAgey8qIEVkaXQgLyBCbG9ja3MgKi99XHJcblxyXG4gICAgICB7aXNFZGl0aW5nID8gKFxyXG5cclxuICAgICAgICA8VGV4dGFyZWEgdmFyaWFudD0nc29mdCcgY29sb3I9J3ByaW1hcnknIGF1dG9Gb2N1cyBtaW5Sb3dzPXsxfVxyXG4gICAgICAgICAgdmFsdWU9e2VkaXRlZFRleHR9IG9uQ2hhbmdlPXtoYW5kbGVFZGl0VGV4dENoYW5nZWR9IG9uS2V5RG93bj17aGFuZGxlRWRpdEtleVByZXNzZWR9XHJcbiAgICAgICAgICBzeD17eyAuLi5jaGF0Rm9udENzcywgZmxleEdyb3c6IDEgfX0gLz5cclxuXHJcbiAgICAgICkgOiAoXHJcblxyXG4gICAgICAgIDxCb3ggc3g9e3sgLi4uY2hhdEZvbnRDc3MsIGZsZXhHcm93OiAwLCB3aGl0ZVNwYWNlOiAnYnJlYWstc3BhY2VzJyB9fT5cclxuICAgICAgICAgIHtwYXJzZUFuZEhpZ2hsaWdodENvZGVCbG9ja3MoY29sbGFwc2VkVGV4dCkubWFwKChwYXJ0LCBpbmRleCkgPT5cclxuICAgICAgICAgICAgcGFydC50eXBlID09PSAnY29kZScgPyAoXHJcbiAgICAgICAgICAgICAgPENoYXRNZXNzYWdlQ29kZUJsb2NrIGtleT17aW5kZXh9IGNvZGVCbG9jaz17cGFydH0gdGhlbWU9e3RoZW1lfSBzeD17Y2hhdEZvbnRDc3N9IC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkga2V5PXtpbmRleH0gbGV2ZWw9J2JvZHkxJyBjb21wb25lbnQ9J3NwYW4nXHJcbiAgICAgICAgICAgICAgICBzeD17eyAuLi5jaGF0Rm9udENzcywgbXg6IDEuNSwgYmFja2dyb3VuZDogdGV4dEJhY2tncm91bmQgfX0+XHJcbiAgICAgICAgICAgICAgICB7cGFydC5jb250ZW50fVxyXG4gICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICB7aXNDb2xsYXBzZWQgJiYgKFxyXG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J3BsYWluJyBvbkNsaWNrPXtoYW5kbGVFeHBhbmR9PlxyXG4gICAgICAgICAgICAgIC4uLiBleHBhbmQgLi4uXHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L0JveD5cclxuXHJcbiAgICAgICl9XHJcblxyXG4gICAgPC9MaXN0SXRlbT5cclxuICApO1xyXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiU2FuZHBhY2siLCJQcmlzbSIsIkNsZWFySWNvbiIsIkNvbnRlbnRDb3B5SWNvbiIsIkVkaXRJY29uIiwiTW9yZVZlcnRJY29uIiwiUGxheUFycm93T3V0bGluZWRJY29uIiwiUmVwbGF5SWNvbiIsIlNwb3J0c01hcnRpYWxBcnRzT3V0bGluZWRJY29uIiwiU3RvcE91dGxpbmVkSWNvbiIsIkF2YXRhciIsIkJveCIsIkJ1dHRvbiIsIkljb25CdXR0b24iLCJMaXN0RGl2aWRlciIsIkxpc3RJdGVtIiwiTGlzdEl0ZW1EZWNvcmF0b3IiLCJNZW51IiwiTWVudUl0ZW0iLCJTdGFjayIsIlRleHRhcmVhIiwiVHlwb2dyYXBoeSIsInVzZVRoZW1lIiwicGFyc2VBbmRIaWdobGlnaHRDb2RlQmxvY2tzIiwidGV4dCIsImNvZGVCbG9ja1JlZ2V4IiwicmVzdWx0IiwibGFzdEluZGV4IiwibWF0Y2giLCJleGVjIiwibGFuZ3VhZ2UiLCJjb2RlQmxvY2siLCJ0cmltIiwiaGlnaGxpZ2h0ZWRDb2RlIiwiaGlnaGxpZ2h0IiwibGFuZ3VhZ2VzIiwidHlwZXNjcmlwdCIsInB1c2giLCJ0eXBlIiwiY29udGVudCIsInNsaWNlIiwiaW5kZXgiLCJjb2RlIiwibGVuZ3RoIiwiY29weVRvQ2xpcGJvYXJkIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImVycm9yIiwiUnVubmFibGVDb2RlIiwidGhlbWUiLCJjb25maWciLCJ0ZW1wbGF0ZSIsImZpbGVzIiwicGFsZXR0ZSIsIm1vZGUiLCJvcHRpb25zIiwic2hvd0NvbnNvbGUiLCJzaG93Q29uc29sZUJ1dHRvbiIsInNob3dUYWJzIiwic2hvd05hdmlnYXRvciIsIkNoYXRNZXNzYWdlQ29kZUJsb2NrIiwic3giLCJzaG93U2FuZHBhY2siLCJzZXRTaG93U2FuZHBhY2siLCJ1c2VTdGF0ZSIsImhhbmRsZUNvcHlUb0NsaXBib2FyZCIsImhhbmRsZVRvZ2dsZVNhbmRwYWNrIiwiY29tcG9uZW50IiwicG9zaXRpb24iLCJteCIsInAiLCJkaXNwbGF5IiwiZm9udFdlaWdodCIsImJhY2tncm91bmQiLCJ2YXJzIiwibGV2ZWwxIiwib3BhY2l0eSIsInZhcmlhbnQiLCJjb2xvciIsIm9uQ2xpY2siLCJ0b3AiLCJyaWdodCIsInpJbmRleCIsInRyYW5zaXRpb24iLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsInByZXR0eU1vZGVsIiwibW9kZWwiLCJzdGFydHNXaXRoIiwiQ2hhdE1lc3NhZ2UiLCJwcm9wcyIsIm1lc3NhZ2UiLCJ1aU1lc3NhZ2UiLCJmb3JjZUV4cGFuZGVkIiwic2V0Rm9yY2VFeHBhbmRlZCIsImlzSG92ZXJpbmciLCJzZXRJc0hvdmVyaW5nIiwibWVudUFuY2hvciIsInNldE1lbnVBbmNob3IiLCJpc0VkaXRpbmciLCJzZXRJc0VkaXRpbmciLCJlZGl0ZWRUZXh0Iiwic2V0RWRpdGVkVGV4dCIsImNsb3NlTWVudSIsImhhbmRsZU1lbnVDb3B5IiwiZSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlTWVudUVkaXQiLCJoYW5kbGVNZW51UnVuQWdhaW4iLCJvblJ1bkFnYWluIiwiaGFuZGxlRWRpdFRleHRDaGFuZ2VkIiwidGFyZ2V0IiwidmFsdWUiLCJoYW5kbGVFZGl0S2V5UHJlc3NlZCIsImtleSIsInNoaWZ0S2V5Iiwib25FZGl0IiwiaGFuZGxlRXhwYW5kIiwiYm9keSIsInRleHRCYWNrZ3JvdW5kIiwidW5kZWZpbmVkIiwicm9sZSIsImRhbmdlciIsInNvZnRCZyIsInNlbmRlciIsImNoYXRGb250Q3NzIiwibXkiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0IiwiY29sbGFwc2VkVGV4dCIsImlzQ29sbGFwc2VkIiwibGluZXMiLCJzcGxpdCIsImpvaW4iLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsInB4IiwicHkiLCJib3JkZXJCb3R0b20iLCJib3JkZXJCb3R0b21Db2xvciIsIm5ldXRyYWwiLCJtYWluQ2hhbm5lbCIsIm1pbldpZHRoIiwidGV4dEFsaWduIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiZXZlbnQiLCJjdXJyZW50VGFyZ2V0IiwiYXZhdGFyIiwiYWx0Iiwic3JjIiwid2lkdGgiLCJoZWlnaHQiLCJvcGVuIiwiYW5jaG9yRWwiLCJvbkNsb3NlIiwib25EZWxldGUiLCJhdXRvRm9jdXMiLCJtaW5Sb3dzIiwib25DaGFuZ2UiLCJvbktleURvd24iLCJmbGV4R3JvdyIsIndoaXRlU3BhY2UiLCJtYXAiLCJwYXJ0IiwibGV2ZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/ChatMessage.tsx\n");

/***/ }),

/***/ "./components/Composer.tsx":
/*!*********************************!*\
  !*** ./components/Composer.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Composer\": () => (/* binding */ Composer)\n/* harmony export */ });\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"@emotion/react/jsx-dev-runtime\");\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/joy */ \"@mui/joy\");\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_mui_joy__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mui_icons_material_ContentPasteGo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/icons-material/ContentPasteGo */ \"@mui/icons-material/ContentPasteGo\");\n/* harmony import */ var _mui_icons_material_ContentPasteGo__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_ContentPasteGo__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _mui_icons_material_KeyboardArrowUp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mui/icons-material/KeyboardArrowUp */ \"@mui/icons-material/KeyboardArrowUp\");\n/* harmony import */ var _mui_icons_material_KeyboardArrowUp__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_KeyboardArrowUp__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mui/icons-material/PanTool */ \"@mui/icons-material/PanTool\");\n/* harmony import */ var _mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _mui_icons_material_PostAdd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mui/icons-material/PostAdd */ \"@mui/icons-material/PostAdd\");\n/* harmony import */ var _mui_icons_material_PostAdd__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_PostAdd__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\n/// localStorage (your browser) : Log of sent messages\nconst LOCALSTORAGE_KEY_COMPOSER_HISTORY = \"app-composer-history\";\nconst loadMessagesFromHistory = ()=>{\n    if (typeof localStorage === \"undefined\") return [];\n    const storedData = localStorage.getItem(LOCALSTORAGE_KEY_COMPOSER_HISTORY);\n    return storedData ? JSON.parse(storedData) : [];\n};\nconst appendMessageToHistory = (composeText, maxMessages = 20)=>{\n    if (typeof localStorage === \"undefined\") return;\n    // prepend message to list, removing duplicates (effectually 'bubbling to the top')\n    const optimizedText = composeText.trim();\n    const composedMessages = loadMessagesFromHistory().filter((m)=>m.trim() !== optimizedText);\n    composedMessages.unshift(composeText);\n    localStorage.setItem(LOCALSTORAGE_KEY_COMPOSER_HISTORY, JSON.stringify(composedMessages.slice(0, maxMessages)));\n};\n/// Text template helpers\nconst PromptTemplates = {\n    PasteText: \"{{input}}\\n\\n{{clipboard}}\\n\",\n    PasteCode: \"{{input}}\\n\\n```\\n{{clipboard}}\\n```\\n\",\n    PasteFile: \"{{input}}\\n\\n```{{fileName}}\\n{{fileText}}\\n```\\n\"\n};\nconst expandPromptTemplate = (template, dict)=>(inputValue)=>{\n        let expanded = template.replaceAll(\"{{input}}\", (inputValue || \"\").trim()).trim();\n        for (const [key, value] of Object.entries(dict))expanded = expanded.replaceAll(`{{${key}}}`, value);\n        return expanded;\n    };\n/**\r\n * A React component for composing and sending messages in a chat-like interface.\r\n * Supports pasting text and code from the clipboard, and a local history of sent messages.\r\n *\r\n * Note: Useful bash trick to generate code from a list of files:\r\n *       $ for F in *.ts; do echo; echo \"\\`\\`\\`$F\"; cat $F; echo; echo \"\\`\\`\\`\"; done | clip\r\n *\r\n * @param {boolean} isDeveloper - Flag to indicate if the user is a developer.\r\n * @param {boolean} disableSend - Flag to disable the send button.\r\n * @param {(text: string) => void} sendMessage - Function to send the composed message.\r\n */ function Composer({ isDeveloper , disableSend , sendMessage  }) {\n    // state\n    const [composeText, setComposeText] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(\"\");\n    const [historyAnchor, setHistoryAnchor] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(null);\n    const [isDragging, setIsDragging] = react__WEBPACK_IMPORTED_MODULE_1___default().useState(false);\n    const attachmentFileInputRef = react__WEBPACK_IMPORTED_MODULE_1___default().useRef(null);\n    const handleSendClicked = ()=>{\n        const text = (composeText || \"\").trim();\n        if (text.length) {\n            setComposeText(\"\");\n            sendMessage(text);\n            appendMessageToHistory(text);\n        }\n    };\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            if (!disableSend) handleSendClicked();\n            e.preventDefault();\n        }\n    };\n    const eatDragEvent = (e)=>{\n        e.preventDefault();\n        e.stopPropagation();\n    };\n    const handleMessageDragEnter = (e)=>{\n        eatDragEvent(e);\n        setIsDragging(true);\n    };\n    const handleOverlayDragLeave = (e)=>{\n        eatDragEvent(e);\n        setIsDragging(false);\n    };\n    const handleOverlayDragOver = (e)=>{\n        eatDragEvent(e);\n    // e.dataTransfer.dropEffect = 'copy';\n    };\n    const handleOverlayDrop = async (e)=>{\n        eatDragEvent(e);\n        setIsDragging(false);\n        // paste Files\n        let text = composeText;\n        const files = Array.from(e.dataTransfer.files);\n        if (files.length) {\n            // Paste all files\n            for (const file of files)text = expandPromptTemplate(PromptTemplates.PasteFile, {\n                fileName: file.name,\n                fileText: await file.text()\n            })(text);\n            setComposeText(text);\n            return;\n        }\n        // detect failure of dropping from VSCode\n        if (e.dataTransfer.types.indexOf(\"codeeditors\") >= 0) {\n            setComposeText(text + \"\\nPasting from VSCode is not supported! Fixme. Anyone?\");\n            return;\n        }\n        // paste Text\n        const droppedText = e.dataTransfer.getData(\"text\");\n        if (droppedText) {\n            text = expandPromptTemplate(PromptTemplates.PasteText, {\n                clipboard: droppedText\n            })(text);\n            setComposeText(text);\n            return;\n        }\n        // NOTE for VSCode - a Drag & Drop does not transfer the File object\n        // https://github.com/microsoft/vscode/issues/98629#issuecomment-634475572\n        console.log(\"Unhandled Drop event. Contents: \", e.dataTransfer.types.map((t)=>`${t}: ${e.dataTransfer.getData(t)}`));\n    };\n    const handleAttachmentChanged = async (e)=>{\n        const files = e.target.files;\n        if (!files || files.length === 0) return;\n        let text = composeText;\n        for(let i = 0; i < files.length; i++)text = expandPromptTemplate(PromptTemplates.PasteFile, {\n            fileName: files[i].name,\n            fileText: await files[i].text()\n        })(text);\n        setComposeText(text);\n    };\n    const handleOpenAttachmentPicker = ()=>attachmentFileInputRef.current?.click();\n    const pasteFromClipboard = async ()=>{\n        const clipboardContent = (await navigator.clipboard.readText() || \"\").trim();\n        if (clipboardContent) {\n            const template = isDeveloper ? PromptTemplates.PasteCode : PromptTemplates.PasteText;\n            setComposeText(expandPromptTemplate(template, {\n                clipboard: clipboardContent\n            }));\n        }\n    };\n    const pasteFromHistory = (text)=>{\n        setComposeText(text);\n        hideHistory();\n    };\n    const showHistory = (event)=>setHistoryAnchor(event.currentTarget);\n    const hideHistory = ()=>setHistoryAnchor(null);\n    const textPlaceholder = \"Type a message...\"; // 'Enter your message...\\n  <enter> send\\n  <shift>+<enter> new line\\n  ``` code';*/\n    const hideOnMobile = {\n        display: {\n            xs: \"none\",\n            md: \"flex\"\n        }\n    };\n    const hideOnDesktop = {\n        display: {\n            xs: \"flex\",\n            md: \"none\"\n        }\n    };\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Grid, {\n        container: true,\n        spacing: {\n            xs: 1,\n            md: 2\n        },\n        children: [\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Grid, {\n                xs: 12,\n                md: 9,\n                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Stack, {\n                    direction: \"row\",\n                    spacing: {\n                        xs: 1,\n                        md: 2\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.IconButton, {\n                                    variant: \"plain\",\n                                    color: \"neutral\",\n                                    onClick: handleOpenAttachmentPicker,\n                                    sx: {\n                                        ...hideOnDesktop\n                                    },\n                                    children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_PostAdd__WEBPACK_IMPORTED_MODULE_6___default()), {}, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                        lineNumber: 184,\n                                        columnNumber: 13\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 183,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Tooltip, {\n                                    title: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            \"Attach \",\n                                            isDeveloper ? \"code\" : \"text\",\n                                            \" files \\xb7 also drag-and-drop \\uD83D\\uDC47\"\n                                        ]\n                                    }, void 0, true),\n                                    variant: \"solid\",\n                                    placement: \"top-start\",\n                                    children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        fullWidth: true,\n                                        variant: \"plain\",\n                                        color: \"neutral\",\n                                        onClick: handleOpenAttachmentPicker,\n                                        startDecorator: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_PostAdd__WEBPACK_IMPORTED_MODULE_6___default()), {}, void 0, false, void 0, void 0),\n                                        sx: {\n                                            ...hideOnMobile,\n                                            justifyContent: \"flex-start\"\n                                        },\n                                        children: \"Attach\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                        lineNumber: 187,\n                                        columnNumber: 13\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 186,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                                    sx: {\n                                        mt: {\n                                            xs: 1,\n                                            md: 2\n                                        }\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 193,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.IconButton, {\n                                    variant: \"plain\",\n                                    color: \"neutral\",\n                                    onClick: pasteFromClipboard,\n                                    sx: {\n                                        ...hideOnDesktop\n                                    },\n                                    children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_ContentPasteGo__WEBPACK_IMPORTED_MODULE_3___default()), {}, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                        lineNumber: 196,\n                                        columnNumber: 13\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                    fullWidth: true,\n                                    variant: \"plain\",\n                                    color: \"neutral\",\n                                    startDecorator: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_ContentPasteGo__WEBPACK_IMPORTED_MODULE_3___default()), {}, void 0, false, void 0, void 0),\n                                    onClick: pasteFromClipboard,\n                                    sx: {\n                                        ...hideOnMobile\n                                    },\n                                    children: isDeveloper ? \"Paste code\" : \"Paste\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 198,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    multiple: true,\n                                    hidden: true,\n                                    ref: attachmentFileInputRef,\n                                    onChange: handleAttachmentChanged\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 202,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                            lineNumber: 181,\n                            columnNumber: 9\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                            sx: {\n                                flexGrow: 1,\n                                position: \"relative\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Textarea, {\n                                    variant: \"soft\",\n                                    autoFocus: true,\n                                    placeholder: textPlaceholder,\n                                    minRows: 5,\n                                    maxRows: 12,\n                                    onKeyDown: handleKeyPress,\n                                    onDragEnter: handleMessageDragEnter,\n                                    value: composeText,\n                                    onChange: (e)=>setComposeText(e.target.value),\n                                    sx: {\n                                        fontSize: \"16px\",\n                                        lineHeight: 1.75\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 209,\n                                    columnNumber: 11\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                                    color: \"primary\",\n                                    invertedColors: true,\n                                    variant: \"soft\",\n                                    sx: {\n                                        display: isDragging ? \"flex\" : \"none\",\n                                        position: \"absolute\",\n                                        bottom: 0,\n                                        left: 0,\n                                        right: 0,\n                                        top: 0,\n                                        alignItems: \"center\",\n                                        justifyContent: \"space-evenly\",\n                                        border: \"2px dashed\",\n                                        zIndex: 10\n                                    },\n                                    onDragLeave: handleOverlayDragLeave,\n                                    onDragOver: handleOverlayDragOver,\n                                    onDrop: handleOverlayDrop,\n                                    children: [\n                                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_PanTool__WEBPACK_IMPORTED_MODULE_5___default()), {\n                                            sx: {\n                                                width: 40,\n                                                height: 40,\n                                                pointerEvents: \"none\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                            lineNumber: 227,\n                                            columnNumber: 13\n                                        }, this),\n                                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                                            level: \"body2\",\n                                            sx: {\n                                                pointerEvents: \"none\"\n                                            },\n                                            children: \"I will hold on to this for you\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 13\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 11\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                            lineNumber: 207,\n                            columnNumber: 9\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                    lineNumber: 178,\n                    columnNumber: 28\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                lineNumber: 178,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Grid, {\n                xs: 12,\n                md: 3,\n                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Stack, {\n                    spacing: 2,\n                    children: [\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                            sx: {\n                                display: \"flex\",\n                                flexDirection: \"row\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.IconButton, {\n                                    variant: \"plain\",\n                                    color: \"neutral\",\n                                    onClick: showHistory,\n                                    sx: {\n                                        ...hideOnDesktop,\n                                        mr: {\n                                            xs: 1,\n                                            md: 2\n                                        }\n                                    },\n                                    children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_KeyboardArrowUp__WEBPACK_IMPORTED_MODULE_4___default()), {}, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                        lineNumber: 243,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 242,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                    fullWidth: true,\n                                    variant: \"solid\",\n                                    color: \"danger\",\n                                    disabled: disableSend,\n                                    onClick: handleSendClicked,\n                                    children: \"Chat\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                    lineNumber: 245,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                            lineNumber: 241,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Stack, {\n                            direction: \"row\",\n                            spacing: 1,\n                            sx: {\n                                ...hideOnMobile,\n                                flexDirection: {\n                                    xs: \"column\",\n                                    md: \"row\"\n                                },\n                                justifyContent: \"flex-start\"\n                            },\n                            children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                variant: \"plain\",\n                                color: \"neutral\",\n                                startDecorator: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_KeyboardArrowUp__WEBPACK_IMPORTED_MODULE_4___default()), {}, void 0, false, void 0, void 0),\n                                onClick: showHistory,\n                                children: \"History\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                            lineNumber: 250,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                    lineNumber: 239,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                lineNumber: 238,\n                columnNumber: 7\n            }, this),\n            !!historyAnchor && /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Menu, {\n                size: \"md\",\n                anchorEl: historyAnchor,\n                open: true,\n                onClose: hideHistory,\n                sx: {\n                    minWidth: 320\n                },\n                children: [\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n                        color: \"neutral\",\n                        selected: true,\n                        children: \"Reuse messages \\uD83D\\uDCAC\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                        lineNumber: 262,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.ListDivider, {}, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                        lineNumber: 263,\n                        columnNumber: 11\n                    }, this),\n                    loadMessagesFromHistory().map((text, index)=>/*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.MenuItem, {\n                            onClick: ()=>pasteFromHistory(text),\n                            children: text.length > 60 ? text.slice(0, 58) + \"...\" : text\n                        }, \"compose-history-\" + index, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                            lineNumber: 265,\n                            columnNumber: 13\n                        }, this))\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n                lineNumber: 261,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Composer.tsx\",\n        lineNumber: 175,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBQzlKLDhDQUFRQTs0QkFBa0M4RyxTQUFTLElBQU1oQixpQkFBaUJ2QztzQ0FDeEVBLEtBQUtDLE1BQU0sR0FBRyxLQUFLRCxLQUFLNUIsS0FBSyxDQUFDLEdBQUcsTUFBTSxRQUFRNEIsSUFBSTsyQkFEdkMscUJBQXFCdUc7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWhELENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY2hhdGdwdC1hcHAvLi9jb21wb25lbnRzL0NvbXBvc2VyLnRzeD8yZDhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgQ2FyZCwgR3JpZCwgSWNvbkJ1dHRvbiwgTGlzdERpdmlkZXIsIE1lbnUsIE1lbnVJdGVtLCBTdGFjaywgVGV4dGFyZWEsIFRvb2x0aXAsIFR5cG9ncmFwaHkgfSBmcm9tICdAbXVpL2pveSc7XHJcbmltcG9ydCBDb250ZW50UGFzdGVHb0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9Db250ZW50UGFzdGVHbyc7XHJcbmltcG9ydCBLZXlib2FyZEFycm93VXBJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvS2V5Ym9hcmRBcnJvd1VwJztcclxuaW1wb3J0IFBhblRvb2xJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvUGFuVG9vbCc7XHJcbmltcG9ydCBQb3N0QWRkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1Bvc3RBZGQnO1xyXG5pbXBvcnQgVGVsZWdyYW1JY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvVGVsZWdyYW0nO1xyXG5cclxuXHJcbi8vLyBsb2NhbFN0b3JhZ2UgKHlvdXIgYnJvd3NlcikgOiBMb2cgb2Ygc2VudCBtZXNzYWdlc1xyXG5cclxuY29uc3QgTE9DQUxTVE9SQUdFX0tFWV9DT01QT1NFUl9ISVNUT1JZID0gJ2FwcC1jb21wb3Nlci1oaXN0b3J5JztcclxuXHJcbmNvbnN0IGxvYWRNZXNzYWdlc0Zyb21IaXN0b3J5ID0gKCk6IHN0cmluZ1tdID0+IHtcclxuICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXTtcclxuICBjb25zdCBzdG9yZWREYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxTVE9SQUdFX0tFWV9DT01QT1NFUl9ISVNUT1JZKTtcclxuICByZXR1cm4gc3RvcmVkRGF0YSA/IEpTT04ucGFyc2Uoc3RvcmVkRGF0YSkgOiBbXTtcclxufTtcclxuXHJcbmNvbnN0IGFwcGVuZE1lc3NhZ2VUb0hpc3RvcnkgPSAoY29tcG9zZVRleHQ6IHN0cmluZywgbWF4TWVzc2FnZXM6IG51bWJlciA9IDIwKSA9PiB7XHJcbiAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XHJcbiAgLy8gcHJlcGVuZCBtZXNzYWdlIHRvIGxpc3QsIHJlbW92aW5nIGR1cGxpY2F0ZXMgKGVmZmVjdHVhbGx5ICdidWJibGluZyB0byB0aGUgdG9wJylcclxuICBjb25zdCBvcHRpbWl6ZWRUZXh0ID0gY29tcG9zZVRleHQudHJpbSgpO1xyXG4gIGNvbnN0IGNvbXBvc2VkTWVzc2FnZXMgPSBsb2FkTWVzc2FnZXNGcm9tSGlzdG9yeSgpLmZpbHRlcihtID0+IG0udHJpbSgpICE9PSBvcHRpbWl6ZWRUZXh0KTtcclxuICBjb21wb3NlZE1lc3NhZ2VzLnVuc2hpZnQoY29tcG9zZVRleHQpO1xyXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlfQ09NUE9TRVJfSElTVE9SWSwgSlNPTi5zdHJpbmdpZnkoY29tcG9zZWRNZXNzYWdlcy5zbGljZSgwLCBtYXhNZXNzYWdlcykpKTtcclxufTtcclxuXHJcblxyXG4vLy8gVGV4dCB0ZW1wbGF0ZSBoZWxwZXJzXHJcblxyXG5jb25zdCBQcm9tcHRUZW1wbGF0ZXMgPSB7XHJcbiAgUGFzdGVUZXh0OiAne3tpbnB1dH19XFxuXFxue3tjbGlwYm9hcmR9fVxcbicsXHJcbiAgUGFzdGVDb2RlOiAne3tpbnB1dH19XFxuXFxuYGBgXFxue3tjbGlwYm9hcmR9fVxcbmBgYFxcbicsXHJcbiAgUGFzdGVGaWxlOiAne3tpbnB1dH19XFxuXFxuYGBge3tmaWxlTmFtZX19XFxue3tmaWxlVGV4dH19XFxuYGBgXFxuJyxcclxufTtcclxuXHJcbmNvbnN0IGV4cGFuZFByb21wdFRlbXBsYXRlID0gKHRlbXBsYXRlOiBzdHJpbmcsIGRpY3Q6IG9iamVjdCkgPT4gKGlucHV0VmFsdWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgbGV0IGV4cGFuZGVkID0gdGVtcGxhdGUucmVwbGFjZUFsbCgne3tpbnB1dH19JywgKGlucHV0VmFsdWUgfHwgJycpLnRyaW0oKSkudHJpbSgpO1xyXG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGRpY3QpKVxyXG4gICAgZXhwYW5kZWQgPSBleHBhbmRlZC5yZXBsYWNlQWxsKGB7eyR7a2V5fX19YCwgdmFsdWUpO1xyXG4gIHJldHVybiBleHBhbmRlZDtcclxufTtcclxuXHJcblxyXG4vKipcclxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGNvbXBvc2luZyBhbmQgc2VuZGluZyBtZXNzYWdlcyBpbiBhIGNoYXQtbGlrZSBpbnRlcmZhY2UuXHJcbiAqIFN1cHBvcnRzIHBhc3RpbmcgdGV4dCBhbmQgY29kZSBmcm9tIHRoZSBjbGlwYm9hcmQsIGFuZCBhIGxvY2FsIGhpc3Rvcnkgb2Ygc2VudCBtZXNzYWdlcy5cclxuICpcclxuICogTm90ZTogVXNlZnVsIGJhc2ggdHJpY2sgdG8gZ2VuZXJhdGUgY29kZSBmcm9tIGEgbGlzdCBvZiBmaWxlczpcclxuICogICAgICAgJCBmb3IgRiBpbiAqLnRzOyBkbyBlY2hvOyBlY2hvIFwiXFxgXFxgXFxgJEZcIjsgY2F0ICRGOyBlY2hvOyBlY2hvIFwiXFxgXFxgXFxgXCI7IGRvbmUgfCBjbGlwXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEZXZlbG9wZXIgLSBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSB1c2VyIGlzIGEgZGV2ZWxvcGVyLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRpc2FibGVTZW5kIC0gRmxhZyB0byBkaXNhYmxlIHRoZSBzZW5kIGJ1dHRvbi5cclxuICogQHBhcmFtIHsodGV4dDogc3RyaW5nKSA9PiB2b2lkfSBzZW5kTWVzc2FnZSAtIEZ1bmN0aW9uIHRvIHNlbmQgdGhlIGNvbXBvc2VkIG1lc3NhZ2UuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9zZXIoeyBpc0RldmVsb3BlciwgZGlzYWJsZVNlbmQsIHNlbmRNZXNzYWdlIH06IHsgaXNEZXZlbG9wZXI6IGJvb2xlYW47IGRpc2FibGVTZW5kOiBib29sZWFuOyBzZW5kTWVzc2FnZTogKHRleHQ6IHN0cmluZykgPT4gdm9pZDsgfSkge1xyXG4gIC8vIHN0YXRlXHJcbiAgY29uc3QgW2NvbXBvc2VUZXh0LCBzZXRDb21wb3NlVGV4dF0gPSBSZWFjdC51c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW2hpc3RvcnlBbmNob3IsIHNldEhpc3RvcnlBbmNob3JdID0gUmVhY3QudXNlU3RhdGU8SFRNTEFuY2hvckVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgYXR0YWNobWVudEZpbGVJbnB1dFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKTtcclxuXHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRDbGlja2VkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdGV4dCA9IChjb21wb3NlVGV4dCB8fCAnJykudHJpbSgpO1xyXG4gICAgaWYgKHRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHNldENvbXBvc2VUZXh0KCcnKTtcclxuICAgICAgc2VuZE1lc3NhZ2UodGV4dCk7XHJcbiAgICAgIGFwcGVuZE1lc3NhZ2VUb0hpc3RvcnkodGV4dCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgIGlmICghZGlzYWJsZVNlbmQpXHJcbiAgICAgICAgaGFuZGxlU2VuZENsaWNrZWQoKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICBjb25zdCBlYXREcmFnRXZlbnQgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1lc3NhZ2VEcmFnRW50ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlYXREcmFnRXZlbnQoZSk7XHJcbiAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU92ZXJsYXlEcmFnTGVhdmUgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlYXREcmFnRXZlbnQoZSk7XHJcbiAgICBzZXRJc0RyYWdnaW5nKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVPdmVybGF5RHJhZ092ZXIgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XHJcbiAgICBlYXREcmFnRXZlbnQoZSk7XHJcbiAgICAvLyBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU92ZXJsYXlEcm9wID0gYXN5bmMgKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xyXG4gICAgZWF0RHJhZ0V2ZW50KGUpO1xyXG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XHJcblxyXG4gICAgLy8gcGFzdGUgRmlsZXNcclxuICAgIGxldCB0ZXh0ID0gY29tcG9zZVRleHQ7XHJcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xyXG4gICAgaWYgKGZpbGVzLmxlbmd0aCkge1xyXG4gICAgICAvLyBQYXN0ZSBhbGwgZmlsZXNcclxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKVxyXG4gICAgICAgIHRleHQgPSBleHBhbmRQcm9tcHRUZW1wbGF0ZShQcm9tcHRUZW1wbGF0ZXMuUGFzdGVGaWxlLCB7IGZpbGVOYW1lOiBmaWxlLm5hbWUsIGZpbGVUZXh0OiBhd2FpdCBmaWxlLnRleHQoKSB9KSh0ZXh0KTtcclxuICAgICAgc2V0Q29tcG9zZVRleHQodGV4dCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkZXRlY3QgZmFpbHVyZSBvZiBkcm9wcGluZyBmcm9tIFZTQ29kZVxyXG4gICAgaWYgKGUuZGF0YVRyYW5zZmVyLnR5cGVzLmluZGV4T2YoJ2NvZGVlZGl0b3JzJykgPj0gMCkge1xyXG4gICAgICBzZXRDb21wb3NlVGV4dCh0ZXh0ICsgJ1xcblBhc3RpbmcgZnJvbSBWU0NvZGUgaXMgbm90IHN1cHBvcnRlZCEgRml4bWUuIEFueW9uZT8nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHBhc3RlIFRleHRcclxuICAgIGNvbnN0IGRyb3BwZWRUZXh0ID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dCcpO1xyXG4gICAgaWYgKGRyb3BwZWRUZXh0KSB7XHJcbiAgICAgIHRleHQgPSBleHBhbmRQcm9tcHRUZW1wbGF0ZShQcm9tcHRUZW1wbGF0ZXMuUGFzdGVUZXh0LCB7IGNsaXBib2FyZDogZHJvcHBlZFRleHQgfSkodGV4dCk7XHJcbiAgICAgIHNldENvbXBvc2VUZXh0KHRleHQpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTk9URSBmb3IgVlNDb2RlIC0gYSBEcmFnICYgRHJvcCBkb2VzIG5vdCB0cmFuc2ZlciB0aGUgRmlsZSBvYmplY3RcclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy85ODYyOSNpc3N1ZWNvbW1lbnQtNjM0NDc1NTcyXHJcbiAgICBjb25zb2xlLmxvZygnVW5oYW5kbGVkIERyb3AgZXZlbnQuIENvbnRlbnRzOiAnLCBlLmRhdGFUcmFuc2Zlci50eXBlcy5tYXAodCA9PiBgJHt0fTogJHtlLmRhdGFUcmFuc2Zlci5nZXREYXRhKHQpfWApKTtcclxuICB9O1xyXG5cclxuXHJcbiAgY29uc3QgaGFuZGxlQXR0YWNobWVudENoYW5nZWQgPSBhc3luYyAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXM7XHJcbiAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG4gICAgbGV0IHRleHQgPSBjb21wb3NlVGV4dDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgIHRleHQgPSBleHBhbmRQcm9tcHRUZW1wbGF0ZShQcm9tcHRUZW1wbGF0ZXMuUGFzdGVGaWxlLCB7IGZpbGVOYW1lOiBmaWxlc1tpXS5uYW1lLCBmaWxlVGV4dDogYXdhaXQgZmlsZXNbaV0udGV4dCgpIH0pKHRleHQpO1xyXG4gICAgc2V0Q29tcG9zZVRleHQodGV4dCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT3BlbkF0dGFjaG1lbnRQaWNrZXIgPSAoKSA9PiBhdHRhY2htZW50RmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCk7XHJcblxyXG5cclxuICBjb25zdCBwYXN0ZUZyb21DbGlwYm9hcmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBjbGlwYm9hcmRDb250ZW50ID0gKGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKSB8fCAnJykudHJpbSgpO1xyXG4gICAgaWYgKGNsaXBib2FyZENvbnRlbnQpIHtcclxuICAgICAgY29uc3QgdGVtcGxhdGUgPSBpc0RldmVsb3BlciA/IFByb21wdFRlbXBsYXRlcy5QYXN0ZUNvZGUgOiBQcm9tcHRUZW1wbGF0ZXMuUGFzdGVUZXh0O1xyXG4gICAgICBzZXRDb21wb3NlVGV4dChleHBhbmRQcm9tcHRUZW1wbGF0ZSh0ZW1wbGF0ZSwgeyBjbGlwYm9hcmQ6IGNsaXBib2FyZENvbnRlbnQgfSkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHBhc3RlRnJvbUhpc3RvcnkgPSAodGV4dDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRDb21wb3NlVGV4dCh0ZXh0KTtcclxuICAgIGhpZGVIaXN0b3J5KCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IHNob3dIaXN0b3J5ID0gKGV2ZW50OiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxBbmNob3JFbGVtZW50PikgPT4gc2V0SGlzdG9yeUFuY2hvcihldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuXHJcbiAgY29uc3QgaGlkZUhpc3RvcnkgPSAoKSA9PiBzZXRIaXN0b3J5QW5jaG9yKG51bGwpO1xyXG5cclxuXHJcbiAgY29uc3QgdGV4dFBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnVHlwZSBhIG1lc3NhZ2UuLi4nOyAvLyAnRW50ZXIgeW91ciBtZXNzYWdlLi4uXFxuICA8ZW50ZXI+IHNlbmRcXG4gIDxzaGlmdD4rPGVudGVyPiBuZXcgbGluZVxcbiAgYGBgIGNvZGUnOyovXHJcbiAgY29uc3QgaGlkZU9uTW9iaWxlID0geyBkaXNwbGF5OiB7IHhzOiAnbm9uZScsIG1kOiAnZmxleCcgfSB9O1xyXG4gIGNvbnN0IGhpZGVPbkRlc2t0b3AgPSB7IGRpc3BsYXk6IHsgeHM6ICdmbGV4JywgbWQ6ICdub25lJyB9IH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8R3JpZCBjb250YWluZXIgc3BhY2luZz17eyB4czogMSwgbWQ6IDIgfX0+XHJcblxyXG4gICAgICB7LyogQ29tcG9zZSAmIFZCdXR0b25zICovfVxyXG4gICAgICA8R3JpZCB4cz17MTJ9IG1kPXs5fT48U3RhY2sgZGlyZWN0aW9uPSdyb3cnIHNwYWNpbmc9e3sgeHM6IDEsIG1kOiAyIH19PlxyXG5cclxuICAgICAgICB7LyogVmVydGljYWwgQnV0dG9ucyBCYXIgKi99XHJcbiAgICAgICAgPEJveD5cclxuXHJcbiAgICAgICAgICA8SWNvbkJ1dHRvbiB2YXJpYW50PSdwbGFpbicgY29sb3I9J25ldXRyYWwnIG9uQ2xpY2s9e2hhbmRsZU9wZW5BdHRhY2htZW50UGlja2VyfSBzeD17eyAuLi5oaWRlT25EZXNrdG9wIH19PlxyXG4gICAgICAgICAgICA8UG9zdEFkZEljb24gLz5cclxuICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cclxuICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXs8PkF0dGFjaCB7aXNEZXZlbG9wZXIgPyAnY29kZScgOiAndGV4dCd9IGZpbGVzIMK3IGFsc28gZHJhZy1hbmQtZHJvcCDwn5GHPC8+fSB2YXJpYW50PSdzb2xpZCcgcGxhY2VtZW50PSd0b3Atc3RhcnQnPlxyXG4gICAgICAgICAgICA8QnV0dG9uIGZ1bGxXaWR0aCB2YXJpYW50PSdwbGFpbicgY29sb3I9J25ldXRyYWwnIG9uQ2xpY2s9e2hhbmRsZU9wZW5BdHRhY2htZW50UGlja2VyfSBzdGFydERlY29yYXRvcj17PFBvc3RBZGRJY29uIC8+fVxyXG4gICAgICAgICAgICAgICAgICAgIHN4PXt7IC4uLmhpZGVPbk1vYmlsZSwganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyB9fT5cclxuICAgICAgICAgICAgICBBdHRhY2hcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L1Rvb2x0aXA+XHJcblxyXG4gICAgICAgICAgPEJveCBzeD17eyBtdDogeyB4czogMSwgbWQ6IDIgfSB9fSAvPlxyXG5cclxuICAgICAgICAgIDxJY29uQnV0dG9uIHZhcmlhbnQ9J3BsYWluJyBjb2xvcj0nbmV1dHJhbCcgb25DbGljaz17cGFzdGVGcm9tQ2xpcGJvYXJkfSBzeD17eyAuLi5oaWRlT25EZXNrdG9wIH19PlxyXG4gICAgICAgICAgICA8Q29udGVudFBhc3RlR29JY29uIC8+XHJcbiAgICAgICAgICA8L0ljb25CdXR0b24+XHJcbiAgICAgICAgICA8QnV0dG9uIGZ1bGxXaWR0aCB2YXJpYW50PSdwbGFpbicgY29sb3I9J25ldXRyYWwnIHN0YXJ0RGVjb3JhdG9yPXs8Q29udGVudFBhc3RlR29JY29uIC8+fSBvbkNsaWNrPXtwYXN0ZUZyb21DbGlwYm9hcmR9IHN4PXt7IC4uLmhpZGVPbk1vYmlsZSB9fT5cclxuICAgICAgICAgICAge2lzRGV2ZWxvcGVyID8gJ1Bhc3RlIGNvZGUnIDogJ1Bhc3RlJ31cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPSdmaWxlJyBtdWx0aXBsZSBoaWRkZW4gcmVmPXthdHRhY2htZW50RmlsZUlucHV0UmVmfSBvbkNoYW5nZT17aGFuZGxlQXR0YWNobWVudENoYW5nZWR9IC8+XHJcblxyXG4gICAgICAgIDwvQm94PlxyXG5cclxuICAgICAgICB7LyogTWVzc2FnZSBlZGl0IGJveCwgd2l0aCBEcm9wIG92ZXJsYXkgKi99XHJcbiAgICAgICAgPEJveCBzeD17eyBmbGV4R3JvdzogMSwgcG9zaXRpb246ICdyZWxhdGl2ZScgfX0+XHJcblxyXG4gICAgICAgICAgPFRleHRhcmVhIHZhcmlhbnQ9J3NvZnQnIGF1dG9Gb2N1cyBwbGFjZWhvbGRlcj17dGV4dFBsYWNlaG9sZGVyfVxyXG4gICAgICAgICAgICAgICAgICAgIG1pblJvd3M9ezV9IG1heFJvd3M9ezEyfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5UHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgb25EcmFnRW50ZXI9e2hhbmRsZU1lc3NhZ2VEcmFnRW50ZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2NvbXBvc2VUZXh0fSBvbkNoYW5nZT17KGUpID0+IHNldENvbXBvc2VUZXh0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBzeD17eyBmb250U2l6ZTogJzE2cHgnLCBsaW5lSGVpZ2h0OiAxLjc1IH19IC8+XHJcblxyXG4gICAgICAgICAgPENhcmQgY29sb3I9J3ByaW1hcnknIGludmVydGVkQ29sb3JzIHZhcmlhbnQ9J3NvZnQnXHJcbiAgICAgICAgICAgICAgICBzeD17e1xyXG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpc0RyYWdnaW5nID8gJ2ZsZXgnIDogJ25vbmUnLFxyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJywgYm90dG9tOiAwLCBsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1ldmVubHknLFxyXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggZGFzaGVkJyxcclxuICAgICAgICAgICAgICAgICAgekluZGV4OiAxMCxcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17aGFuZGxlT3ZlcmxheURyYWdMZWF2ZX1cclxuICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZU92ZXJsYXlEcmFnT3Zlcn1cclxuICAgICAgICAgICAgICAgIG9uRHJvcD17aGFuZGxlT3ZlcmxheURyb3B9PlxyXG4gICAgICAgICAgICA8UGFuVG9vbEljb24gc3g9e3sgd2lkdGg6IDQwLCBoZWlnaHQ6IDQwLCBwb2ludGVyRXZlbnRzOiAnbm9uZScgfX0gLz5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgbGV2ZWw9J2JvZHkyJyBzeD17eyBwb2ludGVyRXZlbnRzOiAnbm9uZScgfX0+XHJcbiAgICAgICAgICAgICAgSSB3aWxsIGhvbGQgb24gdG8gdGhpcyBmb3IgeW91XHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgIDwvQ2FyZD5cclxuXHJcbiAgICAgICAgPC9Cb3g+XHJcblxyXG4gICAgICA8L1N0YWNrPjwvR3JpZD5cclxuXHJcbiAgICAgIHsvKiBPdGhlciBCdXR0b25zICovfVxyXG4gICAgICA8R3JpZCB4cz17MTJ9IG1kPXszfT5cclxuICAgICAgICA8U3RhY2sgc3BhY2luZz17Mn0+XHJcblxyXG4gICAgICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdyb3cnIH19PlxyXG4gICAgICAgICAgICA8SWNvbkJ1dHRvbiB2YXJpYW50PSdwbGFpbicgY29sb3I9J25ldXRyYWwnIG9uQ2xpY2s9e3Nob3dIaXN0b3J5fSBzeD17eyAuLi5oaWRlT25EZXNrdG9wLCBtcjogeyB4czogMSwgbWQ6IDIgfSB9fT5cclxuICAgICAgICAgICAgICA8S2V5Ym9hcmRBcnJvd1VwSWNvbiAvPlxyXG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XHJcbiAgICAgICAgICAgIDxCdXR0b24gZnVsbFdpZHRoIHZhcmlhbnQ9J3NvbGlkJyBjb2xvcj0nZGFuZ2VyJyBkaXNhYmxlZD17ZGlzYWJsZVNlbmR9IG9uQ2xpY2s9e2hhbmRsZVNlbmRDbGlja2VkfSA+XHJcbiAgICAgICAgICAgICAgQ2hhdFxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgIDwvQm94PlxyXG5cclxuICAgICAgICAgIDxTdGFjayBkaXJlY3Rpb249J3Jvdycgc3BhY2luZz17MX0gc3g9e3sgLi4uaGlkZU9uTW9iaWxlLCBmbGV4RGlyZWN0aW9uOiB7IHhzOiAnY29sdW1uJywgbWQ6ICdyb3cnIH0sIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcgfX0+XHJcbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD0ncGxhaW4nIGNvbG9yPSduZXV0cmFsJyBzdGFydERlY29yYXRvcj17PEtleWJvYXJkQXJyb3dVcEljb24gLz59IG9uQ2xpY2s9e3Nob3dIaXN0b3J5fT5cclxuICAgICAgICAgICAgICBIaXN0b3J5XHJcbiAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9TdGFjaz5cclxuXHJcbiAgICAgICAgPC9TdGFjaz5cclxuICAgICAgPC9HcmlkPlxyXG5cclxuICAgICAgey8qIEhpc3RvcnkgbWVudSB3aXRoIGFsbCB0aGUgbGluZSBpdGVtcyAob25seSBpZiBzaG93bikgKi99XHJcbiAgICAgIHshIWhpc3RvcnlBbmNob3IgJiYgKFxyXG4gICAgICAgIDxNZW51IHNpemU9J21kJyBhbmNob3JFbD17aGlzdG9yeUFuY2hvcn0gb3BlbiBvbkNsb3NlPXtoaWRlSGlzdG9yeX0gc3g9e3sgbWluV2lkdGg6IDMyMCB9fT5cclxuICAgICAgICAgIDxNZW51SXRlbSBjb2xvcj0nbmV1dHJhbCcgc2VsZWN0ZWQ+UmV1c2UgbWVzc2FnZXMg8J+SrDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICA8TGlzdERpdmlkZXIgLz5cclxuICAgICAgICAgIHtsb2FkTWVzc2FnZXNGcm9tSGlzdG9yeSgpLm1hcCgodGV4dCwgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17J2NvbXBvc2UtaGlzdG9yeS0nICsgaW5kZXh9IG9uQ2xpY2s9eygpID0+IHBhc3RlRnJvbUhpc3RvcnkodGV4dCl9PlxyXG4gICAgICAgICAgICAgIHt0ZXh0Lmxlbmd0aCA+IDYwID8gdGV4dC5zbGljZSgwLCA1OCkgKyAnLi4uJyA6IHRleHR9XHJcbiAgICAgICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgICAgICApKX1cclxuICAgICAgICAgIHsvKjxMaXN0RGl2aWRlciAvPjxNZW51SXRlbT48TGlzdEl0ZW1EZWNvcmF0b3I+PENsZWFySWNvbiAvPjwvTGlzdEl0ZW1EZWNvcmF0b3I+Q2xlYXI8L01lbnVJdGVtPiovfVxyXG4gICAgICAgIDwvTWVudT5cclxuICAgICAgKX1cclxuXHJcbiAgICA8L0dyaWQ+XHJcbiAgKTtcclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsIkJveCIsIkJ1dHRvbiIsIkNhcmQiLCJHcmlkIiwiSWNvbkJ1dHRvbiIsIkxpc3REaXZpZGVyIiwiTWVudSIsIk1lbnVJdGVtIiwiU3RhY2siLCJUZXh0YXJlYSIsIlRvb2x0aXAiLCJUeXBvZ3JhcGh5IiwiQ29udGVudFBhc3RlR29JY29uIiwiS2V5Ym9hcmRBcnJvd1VwSWNvbiIsIlBhblRvb2xJY29uIiwiUG9zdEFkZEljb24iLCJMT0NBTFNUT1JBR0VfS0VZX0NPTVBPU0VSX0hJU1RPUlkiLCJsb2FkTWVzc2FnZXNGcm9tSGlzdG9yeSIsImxvY2FsU3RvcmFnZSIsInN0b3JlZERhdGEiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiYXBwZW5kTWVzc2FnZVRvSGlzdG9yeSIsImNvbXBvc2VUZXh0IiwibWF4TWVzc2FnZXMiLCJvcHRpbWl6ZWRUZXh0IiwidHJpbSIsImNvbXBvc2VkTWVzc2FnZXMiLCJmaWx0ZXIiLCJtIiwidW5zaGlmdCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJzbGljZSIsIlByb21wdFRlbXBsYXRlcyIsIlBhc3RlVGV4dCIsIlBhc3RlQ29kZSIsIlBhc3RlRmlsZSIsImV4cGFuZFByb21wdFRlbXBsYXRlIiwidGVtcGxhdGUiLCJkaWN0IiwiaW5wdXRWYWx1ZSIsImV4cGFuZGVkIiwicmVwbGFjZUFsbCIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsIkNvbXBvc2VyIiwiaXNEZXZlbG9wZXIiLCJkaXNhYmxlU2VuZCIsInNlbmRNZXNzYWdlIiwic2V0Q29tcG9zZVRleHQiLCJ1c2VTdGF0ZSIsImhpc3RvcnlBbmNob3IiLCJzZXRIaXN0b3J5QW5jaG9yIiwiaXNEcmFnZ2luZyIsInNldElzRHJhZ2dpbmciLCJhdHRhY2htZW50RmlsZUlucHV0UmVmIiwidXNlUmVmIiwiaGFuZGxlU2VuZENsaWNrZWQiLCJ0ZXh0IiwibGVuZ3RoIiwiaGFuZGxlS2V5UHJlc3MiLCJlIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImVhdERyYWdFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImhhbmRsZU1lc3NhZ2VEcmFnRW50ZXIiLCJoYW5kbGVPdmVybGF5RHJhZ0xlYXZlIiwiaGFuZGxlT3ZlcmxheURyYWdPdmVyIiwiaGFuZGxlT3ZlcmxheURyb3AiLCJmaWxlcyIsIkFycmF5IiwiZnJvbSIsImRhdGFUcmFuc2ZlciIsImZpbGUiLCJmaWxlTmFtZSIsIm5hbWUiLCJmaWxlVGV4dCIsInR5cGVzIiwiaW5kZXhPZiIsImRyb3BwZWRUZXh0IiwiZ2V0RGF0YSIsImNsaXBib2FyZCIsImNvbnNvbGUiLCJsb2ciLCJtYXAiLCJ0IiwiaGFuZGxlQXR0YWNobWVudENoYW5nZWQiLCJ0YXJnZXQiLCJpIiwiaGFuZGxlT3BlbkF0dGFjaG1lbnRQaWNrZXIiLCJjdXJyZW50IiwiY2xpY2siLCJwYXN0ZUZyb21DbGlwYm9hcmQiLCJjbGlwYm9hcmRDb250ZW50IiwibmF2aWdhdG9yIiwicmVhZFRleHQiLCJwYXN0ZUZyb21IaXN0b3J5IiwiaGlkZUhpc3RvcnkiLCJzaG93SGlzdG9yeSIsImV2ZW50IiwiY3VycmVudFRhcmdldCIsInRleHRQbGFjZWhvbGRlciIsImhpZGVPbk1vYmlsZSIsImRpc3BsYXkiLCJ4cyIsIm1kIiwiaGlkZU9uRGVza3RvcCIsImNvbnRhaW5lciIsInNwYWNpbmciLCJkaXJlY3Rpb24iLCJ2YXJpYW50IiwiY29sb3IiLCJvbkNsaWNrIiwic3giLCJ0aXRsZSIsInBsYWNlbWVudCIsImZ1bGxXaWR0aCIsInN0YXJ0RGVjb3JhdG9yIiwianVzdGlmeUNvbnRlbnQiLCJtdCIsImlucHV0IiwidHlwZSIsIm11bHRpcGxlIiwiaGlkZGVuIiwicmVmIiwib25DaGFuZ2UiLCJmbGV4R3JvdyIsInBvc2l0aW9uIiwiYXV0b0ZvY3VzIiwicGxhY2Vob2xkZXIiLCJtaW5Sb3dzIiwibWF4Um93cyIsIm9uS2V5RG93biIsIm9uRHJhZ0VudGVyIiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0IiwiaW52ZXJ0ZWRDb2xvcnMiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJhbGlnbkl0ZW1zIiwiYm9yZGVyIiwiekluZGV4Iiwib25EcmFnTGVhdmUiLCJvbkRyYWdPdmVyIiwib25Ecm9wIiwid2lkdGgiLCJoZWlnaHQiLCJwb2ludGVyRXZlbnRzIiwibGV2ZWwiLCJmbGV4RGlyZWN0aW9uIiwibXIiLCJkaXNhYmxlZCIsInNpemUiLCJhbmNob3JFbCIsIm9wZW4iLCJvbkNsb3NlIiwibWluV2lkdGgiLCJzZWxlY3RlZCIsImluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/Composer.tsx\n");

/***/ }),

/***/ "./components/Settings.tsx":
/*!*********************************!*\
  !*** ./components/Settings.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Settings\": () => (/* binding */ Settings),\n/* harmony export */   \"isValidOpenAIApiKey\": () => (/* binding */ isValidOpenAIApiKey),\n/* harmony export */   \"loadGptModel\": () => (/* binding */ loadGptModel),\n/* harmony export */   \"loadOpenAIApiKey\": () => (/* binding */ loadOpenAIApiKey)\n/* harmony export */ });\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"@emotion/react/jsx-dev-runtime\");\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/joy */ \"@mui/joy\");\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_mui_joy__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n/// localStorage (your browser) : API Key\nconst LOCALSTORAGE_KEY_OPENAI_API_KEY = \"app-settings-openai-api-key\";\nconst LOCALSTORAGE_KEY_GPT_MODEL = \"app-settings-openai-gpt-model\";\nconst loadOpenAIApiKey = ()=>{\n    if (typeof localStorage === \"undefined\") return \"\";\n    return localStorage.getItem(LOCALSTORAGE_KEY_OPENAI_API_KEY) || \"\";\n};\nconst loadGptModel = (fallback = \"gpt-4\")=>{\n    if (typeof localStorage === \"undefined\") return fallback;\n    return localStorage.getItem(LOCALSTORAGE_KEY_GPT_MODEL) || fallback;\n};\nconst storeOpenAIApiKey = (apiKey)=>{\n    if (typeof localStorage === \"undefined\") return;\n    if (apiKey) localStorage.setItem(LOCALSTORAGE_KEY_OPENAI_API_KEY, apiKey);\n    else localStorage.removeItem(LOCALSTORAGE_KEY_OPENAI_API_KEY);\n};\nconst storeGptModel = (gptModel)=>{\n    if (typeof localStorage === \"undefined\") return;\n    if (gptModel) localStorage.setItem(LOCALSTORAGE_KEY_GPT_MODEL, gptModel);\n    else localStorage.removeItem(LOCALSTORAGE_KEY_GPT_MODEL);\n};\nconst isValidOpenAIApiKey = (apiKey)=>apiKey && apiKey.startsWith(\"sk-\") && apiKey.length > 40;\n/**\r\n * Component that allows the User to modify the application settings,\r\n * persisted on the client via localStorage.\r\n *\r\n * @param {boolean} open Whether the Settings modal is open\r\n * @param {() => void} onClose Call this to close the dialog from outside\r\n */ function Settings({ open , onClose  }) {\n    const [apiKey, setApiKey] = react__WEBPACK_IMPORTED_MODULE_1__.useState(loadOpenAIApiKey());\n    const [gptModel, setGptModel] = react__WEBPACK_IMPORTED_MODULE_1__.useState(loadGptModel());\n    const handleApiKeyChange = (e)=>setApiKey(e.target.value);\n    const handleGptModelChange = (e, value)=>setGptModel(value ? value : \"gpt-4\");\n    const handleApiKeyDown = (e)=>e.key === \"Enter\" && handleSaveClicked();\n    const handleSaveClicked = ()=>{\n        storeOpenAIApiKey(apiKey);\n        storeGptModel(gptModel);\n        onClose();\n    };\n    const isValidKey = isValidOpenAIApiKey(apiKey);\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Modal, {\n        open: open,\n        onClose: onClose,\n        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.ModalDialog, {\n            sx: {\n                minWidth: \"40vw\"\n            },\n            children: [\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.ModalClose, {}, void 0, false, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                    lineNumber: 68,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                    level: \"h5\",\n                    children: \"Settings\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                    lineNumber: 69,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                    sx: {\n                        mt: 3,\n                        minWidth: 300\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                            sx: {\n                                mb: 1\n                            },\n                            children: \"Enter OpenAI API Key (required)\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                            lineNumber: 73,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                            variant: \"outlined\",\n                            placeholder: \"sk-...\",\n                            error: !isValidKey,\n                            value: apiKey,\n                            onChange: handleApiKeyChange,\n                            onKeyDown: handleApiKeyDown\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                            lineNumber: 77,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                            sx: {\n                                mt: 3,\n                                mb: 1\n                            },\n                            children: \"Select Model\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                            lineNumber: 80,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Select, {\n                            variant: \"outlined\",\n                            value: gptModel,\n                            onChange: handleGptModelChange,\n                            children: [\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                    value: \"gpt-4\",\n                                    children: \"GPT-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                                    lineNumber: 89,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                    value: \"gpt-3.5-turbo\",\n                                    children: \"GPT-3.5 Turbo\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"solid\",\n                            color: isValidKey ? \"primary\" : \"neutral\",\n                            sx: {\n                                mt: 3\n                            },\n                            onClick: handleSaveClicked,\n                            children: \"Save\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                            lineNumber: 93,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n                    lineNumber: 71,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n            lineNumber: 67,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\components\\\\Settings.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2pDLDRDQUFNQTs0QkFBQzRDLFNBQVE7NEJBQVFLLE9BQU9YLGFBQWEsWUFBWSxTQUFTOzRCQUFFQyxJQUFJO2dDQUFFRyxJQUFJOzRCQUFFOzRCQUFHUSxTQUFTYjtzQ0FBbUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3hILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY2hhdGdwdC1hcHAvLi9jb21wb25lbnRzL1NldHRpbmdzLnRzeD80ODUzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQm94LCBCdXR0b24sIElucHV0LCBNb2RhbCwgTW9kYWxDbG9zZSwgTW9kYWxEaWFsb2csIE9wdGlvbiwgU2VsZWN0LCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG11aS9qb3knO1xyXG5cclxuXHJcbi8vLyBsb2NhbFN0b3JhZ2UgKHlvdXIgYnJvd3NlcikgOiBBUEkgS2V5XHJcblxyXG5jb25zdCBMT0NBTFNUT1JBR0VfS0VZX09QRU5BSV9BUElfS0VZID0gJ2FwcC1zZXR0aW5ncy1vcGVuYWktYXBpLWtleSc7XHJcblxyXG5jb25zdCBMT0NBTFNUT1JBR0VfS0VZX0dQVF9NT0RFTCA9ICdhcHAtc2V0dGluZ3Mtb3BlbmFpLWdwdC1tb2RlbCc7XHJcblxyXG5leHBvcnQgY29uc3QgbG9hZE9wZW5BSUFwaUtleSA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICcnO1xyXG4gIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTFNUT1JBR0VfS0VZX09QRU5BSV9BUElfS0VZKSB8fCAnJztcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkR3B0TW9kZWwgPSAoZmFsbGJhY2s6IHN0cmluZyA9ICdncHQtNCcpOiBzdHJpbmcgPT4ge1xyXG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMT0NBTFNUT1JBR0VfS0VZX0dQVF9NT0RFTCkgfHwgZmFsbGJhY2s7XHJcbn07XHJcblxyXG5jb25zdCBzdG9yZU9wZW5BSUFwaUtleSA9IChhcGlLZXk6IHN0cmluZykgPT4ge1xyXG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG4gIGlmIChhcGlLZXkpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMU1RPUkFHRV9LRVlfT1BFTkFJX0FQSV9LRVksIGFwaUtleSk7XHJcbiAgZWxzZSBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShMT0NBTFNUT1JBR0VfS0VZX09QRU5BSV9BUElfS0VZKTtcclxufTtcclxuXHJcbmNvbnN0IHN0b3JlR3B0TW9kZWwgPSAoZ3B0TW9kZWw6IHN0cmluZykgPT4ge1xyXG4gIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xyXG4gIGlmIChncHRNb2RlbCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxTVE9SQUdFX0tFWV9HUFRfTU9ERUwsIGdwdE1vZGVsKTtcclxuICBlbHNlIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExPQ0FMU1RPUkFHRV9LRVlfR1BUX01PREVMKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBpc1ZhbGlkT3BlbkFJQXBpS2V5ID0gKGFwaUtleT86IHN0cmluZykgPT5cclxuICBhcGlLZXkgJiYgYXBpS2V5LnN0YXJ0c1dpdGgoJ3NrLScpICYmIGFwaUtleS5sZW5ndGggPiA0MDtcclxuXHJcblxyXG4vKipcclxuICogQ29tcG9uZW50IHRoYXQgYWxsb3dzIHRoZSBVc2VyIHRvIG1vZGlmeSB0aGUgYXBwbGljYXRpb24gc2V0dGluZ3MsXHJcbiAqIHBlcnNpc3RlZCBvbiB0aGUgY2xpZW50IHZpYSBsb2NhbFN0b3JhZ2UuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3BlbiBXaGV0aGVyIHRoZSBTZXR0aW5ncyBtb2RhbCBpcyBvcGVuXHJcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gb25DbG9zZSBDYWxsIHRoaXMgdG8gY2xvc2UgdGhlIGRpYWxvZyBmcm9tIG91dHNpZGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXR0aW5ncyh7IG9wZW4sIG9uQ2xvc2UgfTogeyBvcGVuOiBib29sZWFuLCBvbkNsb3NlOiAoKSA9PiB2b2lkOyB9KSB7XHJcbiAgY29uc3QgW2FwaUtleSwgc2V0QXBpS2V5XSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4obG9hZE9wZW5BSUFwaUtleSgpKTtcclxuICBjb25zdCBbZ3B0TW9kZWwsIHNldEdwdE1vZGVsXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4obG9hZEdwdE1vZGVsKCkpO1xyXG5cclxuICBjb25zdCBoYW5kbGVBcGlLZXlDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQpID0+XHJcbiAgICBzZXRBcGlLZXkoKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlR3B0TW9kZWxDaGFuZ2UgPSAoZTogUmVhY3QuRm9jdXNFdmVudCB8IFJlYWN0Lk1vdXNlRXZlbnQgfCBSZWFjdC5LZXlib2FyZEV2ZW50IHwgbnVsbCwgdmFsdWU6IHN0cmluZyB8IG51bGwpID0+XHJcbiAgICBzZXRHcHRNb2RlbCh2YWx1ZSA/IHZhbHVlIDogJ2dwdC00Jyk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFwaUtleURvd24gPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT5cclxuICAgIChlLmtleSA9PT0gJ0VudGVyJykgJiYgaGFuZGxlU2F2ZUNsaWNrZWQoKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZUNsaWNrZWQgPSAoKSA9PiB7XHJcbiAgICBzdG9yZU9wZW5BSUFwaUtleShhcGlLZXkpO1xyXG4gICAgc3RvcmVHcHRNb2RlbChncHRNb2RlbCk7XHJcbiAgICBvbkNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaXNWYWxpZEtleSA9IGlzVmFsaWRPcGVuQUlBcGlLZXkoYXBpS2V5KTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxNb2RhbCBvcGVuPXtvcGVufSBvbkNsb3NlPXtvbkNsb3NlfT5cclxuICAgICAgPE1vZGFsRGlhbG9nIHN4PXt7IG1pbldpZHRoOiAnNDB2dycgfX0+XHJcbiAgICAgICAgPE1vZGFsQ2xvc2UgLz5cclxuICAgICAgICA8VHlwb2dyYXBoeSBsZXZlbD0naDUnPlNldHRpbmdzPC9UeXBvZ3JhcGh5PlxyXG5cclxuICAgICAgICA8Qm94IHN4PXt7IG10OiAzLCBtaW5XaWR0aDogMzAwIH19PlxyXG5cclxuICAgICAgICAgIDxUeXBvZ3JhcGh5IHN4PXt7IG1iOiAxIH19PlxyXG4gICAgICAgICAgICBFbnRlciBPcGVuQUkgQVBJIEtleSAocmVxdWlyZWQpXHJcbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgPElucHV0IHZhcmlhbnQ9J291dGxpbmVkJyBwbGFjZWhvbGRlcj17J3NrLS4uLid9IGVycm9yPXshaXNWYWxpZEtleX1cclxuICAgICAgICAgICAgICAgICB2YWx1ZT17YXBpS2V5fSBvbkNoYW5nZT17aGFuZGxlQXBpS2V5Q2hhbmdlfSBvbktleURvd249e2hhbmRsZUFwaUtleURvd259IC8+XHJcblxyXG4gICAgICAgICAgPFR5cG9ncmFwaHkgc3g9e3sgbXQ6IDMsIG1iOiAxIH19PlxyXG4gICAgICAgICAgICBTZWxlY3QgTW9kZWxcclxuICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuXHJcbiAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgIHZhcmlhbnQ9J291dGxpbmVkJ1xyXG4gICAgICAgICAgICB2YWx1ZT17Z3B0TW9kZWx9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVHcHRNb2RlbENoYW5nZX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT17J2dwdC00J30+R1BULTQ8L09wdGlvbj5cclxuICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT17J2dwdC0zLjUtdHVyYm8nfT5HUFQtMy41IFR1cmJvPC9PcHRpb24+XHJcbiAgICAgICAgICA8L1NlbGVjdD5cclxuXHJcbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9J3NvbGlkJyBjb2xvcj17aXNWYWxpZEtleSA/ICdwcmltYXJ5JyA6ICduZXV0cmFsJ30gc3g9e3sgbXQ6IDMgfX0gb25DbGljaz17aGFuZGxlU2F2ZUNsaWNrZWR9PlxyXG4gICAgICAgICAgICBTYXZlXHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuXHJcbiAgICAgICAgPC9Cb3g+XHJcblxyXG4gICAgICA8L01vZGFsRGlhbG9nPlxyXG4gICAgPC9Nb2RhbD5cclxuICApO1xyXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiQm94IiwiQnV0dG9uIiwiSW5wdXQiLCJNb2RhbCIsIk1vZGFsQ2xvc2UiLCJNb2RhbERpYWxvZyIsIk9wdGlvbiIsIlNlbGVjdCIsIlR5cG9ncmFwaHkiLCJMT0NBTFNUT1JBR0VfS0VZX09QRU5BSV9BUElfS0VZIiwiTE9DQUxTVE9SQUdFX0tFWV9HUFRfTU9ERUwiLCJsb2FkT3BlbkFJQXBpS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvYWRHcHRNb2RlbCIsImZhbGxiYWNrIiwic3RvcmVPcGVuQUlBcGlLZXkiLCJhcGlLZXkiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsInN0b3JlR3B0TW9kZWwiLCJncHRNb2RlbCIsImlzVmFsaWRPcGVuQUlBcGlLZXkiLCJzdGFydHNXaXRoIiwibGVuZ3RoIiwiU2V0dGluZ3MiLCJvcGVuIiwib25DbG9zZSIsInNldEFwaUtleSIsInVzZVN0YXRlIiwic2V0R3B0TW9kZWwiLCJoYW5kbGVBcGlLZXlDaGFuZ2UiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJoYW5kbGVHcHRNb2RlbENoYW5nZSIsImhhbmRsZUFwaUtleURvd24iLCJrZXkiLCJoYW5kbGVTYXZlQ2xpY2tlZCIsImlzVmFsaWRLZXkiLCJzeCIsIm1pbldpZHRoIiwibGV2ZWwiLCJtdCIsIm1iIiwidmFyaWFudCIsInBsYWNlaG9sZGVyIiwiZXJyb3IiLCJvbkNoYW5nZSIsIm9uS2V5RG93biIsImNvbG9yIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Settings.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Conversation)\n/* harmony export */ });\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react/jsx-dev-runtime */ \"@emotion/react/jsx-dev-runtime\");\n/* harmony import */ var _emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mui/joy */ \"@mui/joy\");\n/* harmony import */ var _mui_joy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_mui_joy__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mui_icons_material_SettingsOutlined__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mui/icons-material/SettingsOutlined */ \"@mui/icons-material/SettingsOutlined\");\n/* harmony import */ var _mui_icons_material_SettingsOutlined__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_mui_icons_material_SettingsOutlined__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_ChatMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ChatMessage */ \"./components/ChatMessage.tsx\");\n/* harmony import */ var _components_Composer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/Composer */ \"./components/Composer.tsx\");\n/* harmony import */ var _components_Settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/Settings */ \"./components/Settings.tsx\");\n\n\n\n\n\n\n\nconst PurposeData = {\n    Catalyst: {\n        systemMessage: \"You are a marketing extraordinaire for a booming startup fusing creativity, data-smarts, and digital prowess to skyrocket growth & wow audiences. So fun. Much meme. \\uD83D\\uDE80\\uD83C\\uDFAF\\uD83D\\uDCA1\",\n        description: \"The growth hacker with marketing superpowers \\uD83D\\uDE80\"\n    },\n    Custom: {\n        systemMessage: \"You are ChatGPT, a large language model trained by OpenAI, based on the GPT-4 architecture.\\nKnowledge cutoff: 2021-09\\nCurrent date: {{Today}}\",\n        description: \"User-defined purpose\"\n    },\n    Developer: {\n        systemMessage: \"You are a sophisticated, accurate, and modern AI programming assistant\",\n        description: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: \"Helps you code\"\n        }, void 0, false)\n    },\n    Executive: {\n        systemMessage: \"You are an executive assistant. Your communication style is concise, brief, formal\",\n        description: \"Helps you write business emails\"\n    },\n    Generic: {\n        systemMessage: \"You are ChatGPT, a large language model trained by OpenAI, based on the GPT-4 architecture.\\nKnowledge cutoff: 2021-09\\nCurrent date: {{Today}}\",\n        description: \"Helps you think\"\n    },\n    Scientist: {\n        systemMessage: \"You are a scientist's assistant. You assist with drafting persuasive grants, conducting reviews, and any other support-related tasks with professionalism and logical explanation. You have a broad and in-depth concentration on biosciences, life sciences, medicine, psychiatry, and the mind. Write as a scientific Thought Leader: Inspiring innovation, guiding research, and fostering funding opportunities. Focus on evidence-based information, emphasize data analysis, and promote curiosity and open-mindedness\",\n        description: \"Helps you write scientific papers\"\n    }\n};\n/// UI Messages configuration\nconst MessageDefaults = {\n    system: {\n        role: \"system\",\n        sender: \"Bot\",\n        avatar: \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/800px-ChatGPT_logo.svg.png\"\n    },\n    user: {\n        role: \"user\",\n        sender: \"You\",\n        avatar: \"https://i.imgflip.com/6d2du4.png\"\n    },\n    assistant: {\n        role: \"assistant\",\n        sender: \"Bot\",\n        avatar: \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/04/ChatGPT_logo.svg/800px-ChatGPT_logo.svg.png\"\n    }\n};\nconst createUiMessage = (role, text)=>({\n        uid: Math.random().toString(36).substring(2, 15),\n        text: text,\n        model: \"\",\n        ...MessageDefaults[role]\n    });\n/// Chat ///\nfunction Conversation() {\n    const theme = (0,_mui_joy__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    const { mode: colorMode , setMode: setColorMode  } = (0,_mui_joy__WEBPACK_IMPORTED_MODULE_2__.useColorScheme)();\n    const [selectedSystemPurpose, setSelectedSystemPurpose] = react__WEBPACK_IMPORTED_MODULE_1__.useState(\"Developer\");\n    const [messages, setMessages] = react__WEBPACK_IMPORTED_MODULE_1__.useState([]);\n    const [disableCompose, setDisableCompose] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [settingsShown, setSettingsShown] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const messagesEndRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(()=>{\n        // show the settings at startup if the API key is not present\n        if (!(0,_components_Settings__WEBPACK_IMPORTED_MODULE_6__.isValidOpenAIApiKey)((0,_components_Settings__WEBPACK_IMPORTED_MODULE_6__.loadOpenAIApiKey)())) setSettingsShown(true);\n    }, []);\n    const handleDarkModeToggle = ()=>setColorMode(colorMode === \"dark\" ? \"light\" : \"dark\");\n    const handleListClear = ()=>setMessages([]);\n    const handleListDelete = (uid)=>setMessages((list)=>list.filter((message)=>message.uid !== uid));\n    const handleListEdit = (uid, newText)=>setMessages((list)=>list.map((message)=>message.uid === uid ? {\n                    ...message,\n                    text: newText\n                } : message));\n    const handleListRunAgain = (uid)=>{\n        // take all messages until we get to uid, then remove the rest\n        const uidPosition = messages.findIndex((message)=>message.uid === uid);\n        if (uidPosition === -1) return;\n        const conversation = messages.slice(0, uidPosition + 1);\n        setMessages(conversation);\n        // disable the composer while the bot is replying\n        setDisableCompose(true);\n        getBotMessageStreaming(conversation).then(()=>setDisableCompose(false));\n    };\n    const handlePurposeChange = (purpose)=>{\n        if (!purpose) return;\n        if (purpose === \"Custom\") {\n            const systemMessage = prompt(\"Enter your custom AI purpose\", PurposeData[\"Custom\"].systemMessage);\n            PurposeData[\"Custom\"].systemMessage = systemMessage || \"\";\n        }\n        setSelectedSystemPurpose(purpose);\n    };\n    const getBotMessageStreaming = async (messages)=>{\n        const response = await fetch(\"/api/chat\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                apiKey: (0,_components_Settings__WEBPACK_IMPORTED_MODULE_6__.loadOpenAIApiKey)(),\n                model: (0,_components_Settings__WEBPACK_IMPORTED_MODULE_6__.loadGptModel)(),\n                messages: messages\n            })\n        });\n        if (response.body) {\n            const reader = response.body.getReader();\n            const decoder = new TextDecoder(\"utf-8\");\n            const newBotMessage = createUiMessage(\"assistant\", \"\");\n            while(true){\n                const { value , done  } = await reader.read();\n                if (done) break;\n                const messageText = decoder.decode(value);\n                newBotMessage.text += messageText;\n                // there may be a JSON object at the beginning of the message, which contains the model name (streaming workaround)\n                if (!newBotMessage.model && newBotMessage.text.startsWith(\"{\")) {\n                    const endOfJson = newBotMessage.text.indexOf(\"}\");\n                    if (endOfJson > 0) {\n                        const json = newBotMessage.text.substring(0, endOfJson + 1);\n                        try {\n                            const parsed = JSON.parse(json);\n                            newBotMessage.model = parsed.model;\n                            newBotMessage.text = newBotMessage.text.substring(endOfJson + 1);\n                        } catch (e) {\n                            // error parsing JSON, ignore\n                            console.log(\"Error parsing JSON: \" + e);\n                        }\n                    }\n                }\n                setMessages((list)=>{\n                    // if missing, add the message at the end of the list, otherwise set a new list anyway, to trigger a re-render\n                    const message = list.find((message)=>message.uid === newBotMessage.uid);\n                    return !message ? [\n                        ...list,\n                        newBotMessage\n                    ] : [\n                        ...list\n                    ];\n                });\n            }\n        }\n    };\n    const handleComposerSendMessage = (text)=>{\n        // seed the conversation with a 'system' message\n        const conversation = [\n            ...messages\n        ];\n        if (!conversation.length) {\n            let systemMessage = PurposeData[selectedSystemPurpose].systemMessage;\n            systemMessage = systemMessage.replaceAll(\"{{Today}}\", new Date().toISOString().split(\"T\")[0]);\n        // conversation.push(createUiMessage('system', systemMessage));\n        }\n        // add the user message\n        conversation.push(createUiMessage(\"user\", text));\n        // update the list of messages\n        setMessages(conversation);\n        // disable the composer while the bot is replying\n        setDisableCompose(true);\n        getBotMessageStreaming(conversation).then(()=>setDisableCompose(false));\n    };\n    const listEmpty = !messages.length;\n    const Emoji = (props)=>null;\n    return /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Container, {\n        maxWidth: \"xl\",\n        disableGutters: true,\n        sx: {\n            boxShadow: theme.vars.shadow.lg\n        },\n        children: [\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Stack, {\n                direction: \"column\",\n                sx: {\n                    minHeight: \"100vh\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Sheet, {\n                        variant: \"solid\",\n                        invertedColors: true,\n                        sx: {\n                            position: \"sticky\",\n                            top: 0,\n                            zIndex: 20,\n                            p: 1,\n                            // background: theme.vars.palette.primary.solidHoverBg,\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            // justifyContent:\"start\",\n                            alignItems: \"start\",\n                            justifyContent: \"space-between\",\n                            backgroundColor: \"black\",\n                            paddingX: 2\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                                sx: {\n                                    textAlign: \"center\",\n                                    fontSize: \"1.5rem\",\n                                    lineHeight: 1.75,\n                                    my: \"auto\",\n                                    // flexGrow: 1,\n                                    fontWeight: 600\n                                },\n                                onDoubleClick: handleListClear,\n                                children: \"FetchGPT\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.IconButton, {\n                                variant: \"plain\",\n                                color: \"neutral\",\n                                onClick: ()=>setSettingsShown(true),\n                                children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((_mui_icons_material_SettingsOutlined__WEBPACK_IMPORTED_MODULE_3___default()), {}, void 0, false, {\n                                    fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                    lineNumber: 247,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                lineNumber: 246,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                        lineNumber: 215,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                        sx: {\n                            flexGrow: 1,\n                            background: theme.vars.palette.background.level1\n                        },\n                        children: listEmpty ? /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Stack, {\n                            direction: \"column\",\n                            sx: {\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                minHeight: \"50vh\"\n                            },\n                            children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                                children: [\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                                        level: \"body3\",\n                                        color: \"neutral\",\n                                        children: \"AI purpose\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                        lineNumber: 259,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Select, {\n                                        value: selectedSystemPurpose,\n                                        onChange: (e, v)=>handlePurposeChange(v),\n                                        sx: {\n                                            minWidth: \"40vw\"\n                                        },\n                                        children: [\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Developer\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"\\uD83D\\uDC69‍\\uD83D\\uDCBB\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 263,\n                                                        columnNumber: 45\n                                                    }, this),\n                                                    \" Developer\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 263,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Scientist\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"\\uD83D\\uDD2C\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 264,\n                                                        columnNumber: 45\n                                                    }, this),\n                                                    \" Scientist\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 264,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Executive\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"\\uD83D\\uDC54\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 265,\n                                                        columnNumber: 45\n                                                    }, this),\n                                                    \" Executive\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 265,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Catalyst\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"\\uD83D\\uDE80\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 266,\n                                                        columnNumber: 44\n                                                    }, this),\n                                                    \" Catalyst\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Generic\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"\\uD83E\\uDDE0\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 267,\n                                                        columnNumber: 43\n                                                    }, this),\n                                                    \" ChatGPT4\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 267,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Option, {\n                                                value: \"Custom\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Emoji, {\n                                                        children: \"✨\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                        lineNumber: 268,\n                                                        columnNumber: 42\n                                                    }, this),\n                                                    \" Custom\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                                lineNumber: 268,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                        lineNumber: 262,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Typography, {\n                                        level: \"body2\",\n                                        sx: {\n                                            mt: 2,\n                                            minWidth: 260\n                                        },\n                                        children: PurposeData[selectedSystemPurpose].description\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                lineNumber: 258,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                            lineNumber: 257,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.List, {\n                                sx: {\n                                    p: 0\n                                },\n                                children: [\n                                    messages.map((message, index)=>/*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatMessage__WEBPACK_IMPORTED_MODULE_4__.ChatMessage, {\n                                            uiMessage: message,\n                                            onDelete: ()=>handleListDelete(message.uid),\n                                            onEdit: (newText)=>handleListEdit(message.uid, newText),\n                                            onRunAgain: ()=>handleListRunAgain(message.uid)\n                                        }, \"msg-\" + message.uid, false, {\n                                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                            lineNumber: 279,\n                                            columnNumber: 19\n                                        }, this)),\n                                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: messagesEndRef\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                        lineNumber: 252,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_joy__WEBPACK_IMPORTED_MODULE_2__.Box, {\n                        sx: {\n                            position: \"sticky\",\n                            bottom: 0,\n                            zIndex: 10,\n                            background: theme.vars.palette.background.body,\n                            borderTop: \"1px solid\",\n                            borderTopColor: theme.vars.palette.divider,\n                            p: {\n                                xs: 1,\n                                md: 2\n                            }\n                        },\n                        children: /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Composer__WEBPACK_IMPORTED_MODULE_5__.Composer, {\n                            isDeveloper: selectedSystemPurpose === \"Developer\",\n                            disableSend: disableCompose,\n                            sendMessage: handleComposerSendMessage\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                            lineNumber: 297,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                        lineNumber: 290,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                lineNumber: 209,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,_emotion_react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Settings__WEBPACK_IMPORTED_MODULE_6__.Settings, {\n                open: settingsShown,\n                onClose: ()=>setSettingsShown(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n                lineNumber: 303,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Work\\\\Apps\\\\FetchGPT\\\\pages\\\\index.tsx\",\n        lineNumber: 206,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUVpRztBQUd4RDtBQUlMO0FBQ2pCO0FBQ3FEO0FBT3ZHLE1BQU1tQixjQUF3RztJQUM1R0MsVUFBVTtRQUNSQyxlQUFlO1FBQ2ZDLGFBQWE7SUFDZjtJQUNBQyxRQUFRO1FBQ05GLGVBQWU7UUFDZkMsYUFBYTtJQUNmO0lBQ0FFLFdBQVc7UUFDVEgsZUFBZTtRQUNmQywyQkFBYTtzQkFBRTs7SUFDakI7SUFDQUcsV0FBVztRQUNUSixlQUFlO1FBQ2ZDLGFBQWE7SUFDZjtJQUNBSSxTQUFTO1FBQ1BMLGVBQWU7UUFDZkMsYUFBYTtJQUNmO0lBQ0FLLFdBQVc7UUFDVE4sZUFBZTtRQUNmQyxhQUFhO0lBQ2Y7QUFDRjtBQUdBLDZCQUE2QjtBQUU3QixNQUFNTSxrQkFBaUc7SUFDckdDLFFBQVE7UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBQyxNQUFNO1FBQ0pILE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQUUsV0FBVztRQUNUSixNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0FBQ0Y7QUFFQSxNQUFNRyxrQkFBa0IsQ0FBQ0wsTUFBeUJNLE9BQTZCO1FBQzdFQyxLQUFLQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRztRQUM3Q0wsTUFBTUE7UUFDTk0sT0FBTztRQUNQLEdBQUdkLGVBQWUsQ0FBQ0UsS0FBSztJQUMxQjtBQUdBLFlBQVk7QUFFRyxTQUFTYSxlQUFlO0lBQ3JDLE1BQU1DLFFBQVFqQyxrREFBUUE7SUFDdEIsTUFBTSxFQUFFa0MsTUFBTUMsVUFBUyxFQUFFQyxTQUFTQyxhQUFZLEVBQUUsR0FBR3RDLHdEQUFjQTtJQUVqRSxNQUFNLENBQUN1Qyx1QkFBdUJDLHlCQUF5QixHQUFHbEQsMkNBQWMsQ0FBZ0I7SUFDeEYsTUFBTSxDQUFDb0QsVUFBVUMsWUFBWSxHQUFHckQsMkNBQWMsQ0FBYyxFQUFFO0lBQzlELE1BQU0sQ0FBQ3NELGdCQUFnQkMsa0JBQWtCLEdBQUd2RCwyQ0FBYyxDQUFDLEtBQUs7SUFDaEUsTUFBTSxDQUFDd0QsZUFBZUMsaUJBQWlCLEdBQUd6RCwyQ0FBYyxDQUFDLEtBQUs7SUFDOUQsTUFBTTBELGlCQUFpQjFELHlDQUFZLENBQXdCLElBQUk7SUFFL0RBLDRDQUFlLENBQUMsSUFBTTtRQUNwQjBELGVBQWVHLE9BQU8sRUFBRUMsZUFBZTtZQUFFQyxVQUFVO1FBQVM7SUFDOUQsR0FBRztRQUFDWDtLQUFTO0lBRWJwRCw0Q0FBZSxDQUFDLElBQU07UUFDcEIsNkRBQTZEO1FBQzdELElBQUksQ0FBQ2UseUVBQW1CQSxDQUFDRSxzRUFBZ0JBLEtBQ3ZDd0MsaUJBQWlCLElBQUk7SUFDekIsR0FBRyxFQUFFO0lBRUwsTUFBTU8sdUJBQXVCLElBQU1oQixhQUFhRixjQUFjLFNBQVMsVUFBVSxNQUFNO0lBR3ZGLE1BQU1tQixrQkFBa0IsSUFBTVosWUFBWSxFQUFFO0lBRTVDLE1BQU1hLG1CQUFtQixDQUFDN0IsTUFDeEJnQixZQUFZYyxDQUFBQSxPQUFRQSxLQUFLQyxNQUFNLENBQUNDLENBQUFBLFVBQVdBLFFBQVFoQyxHQUFHLEtBQUtBO0lBRTdELE1BQU1pQyxpQkFBaUIsQ0FBQ2pDLEtBQWFrQyxVQUNuQ2xCLFlBQVljLENBQUFBLE9BQVFBLEtBQUtLLEdBQUcsQ0FBQ0gsQ0FBQUEsVUFBWUEsUUFBUWhDLEdBQUcsS0FBS0EsTUFBTTtvQkFBRSxHQUFHZ0MsT0FBTztvQkFBRWpDLE1BQU1tQztnQkFBUSxJQUFJRixPQUFPO0lBRXhHLE1BQU1JLHFCQUFxQixDQUFDcEMsTUFBZ0I7UUFDMUMsOERBQThEO1FBQzlELE1BQU1xQyxjQUFjdEIsU0FBU3VCLFNBQVMsQ0FBQ04sQ0FBQUEsVUFBV0EsUUFBUWhDLEdBQUcsS0FBS0E7UUFDbEUsSUFBSXFDLGdCQUFnQixDQUFDLEdBQUc7UUFDeEIsTUFBTUUsZUFBZXhCLFNBQVN5QixLQUFLLENBQUMsR0FBR0gsY0FBYztRQUNyRHJCLFlBQVl1QjtRQUVaLGlEQUFpRDtRQUNqRHJCLGtCQUFrQixJQUFJO1FBQ3RCdUIsdUJBQXVCRixjQUNwQkcsSUFBSSxDQUFDLElBQU14QixrQkFBa0IsS0FBSztJQUN2QztJQUVBLE1BQU15QixzQkFBc0IsQ0FBQ0MsVUFBa0M7UUFDN0QsSUFBSSxDQUFDQSxTQUFTO1FBRWQsSUFBSUEsWUFBWSxVQUFVO1lBQ3hCLE1BQU01RCxnQkFBZ0I2RCxPQUFPLGdDQUFnQy9ELFdBQVcsQ0FBQyxTQUFTLENBQUNFLGFBQWE7WUFDaEdGLFdBQVcsQ0FBQyxTQUFTLENBQUNFLGFBQWEsR0FBR0EsaUJBQWlCO1FBQ3pELENBQUM7UUFFRDZCLHlCQUF5QitCO0lBQzNCO0lBR0EsTUFBTUgseUJBQXlCLE9BQU8xQixXQUEwQjtRQUM5RCxNQUFNK0IsV0FBVyxNQUFNQyxNQUFNLGFBQWE7WUFDeENDLFFBQVE7WUFDUkMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7WUFDOUNDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFBRUMsUUFBUXpFLHNFQUFnQkE7Z0JBQUl5QixPQUFPMUIsa0VBQVlBO2dCQUFJb0MsVUFBVUE7WUFBUztRQUMvRjtRQUVBLElBQUkrQixTQUFTSSxJQUFJLEVBQUU7WUFDakIsTUFBTUksU0FBU1IsU0FBU0ksSUFBSSxDQUFDSyxTQUFTO1lBQ3RDLE1BQU1DLFVBQVUsSUFBSUMsWUFBWTtZQUVoQyxNQUFNQyxnQkFBMkI1RCxnQkFBZ0IsYUFBYTtZQUU5RCxNQUFPLElBQUksQ0FBRTtnQkFDWCxNQUFNLEVBQUU2RCxNQUFLLEVBQUVDLEtBQUksRUFBRSxHQUFHLE1BQU1OLE9BQU9PLElBQUk7Z0JBQ3pDLElBQUlELE1BQU0sS0FBTTtnQkFFaEIsTUFBTUUsY0FBY04sUUFBUU8sTUFBTSxDQUFDSjtnQkFDbkNELGNBQWMzRCxJQUFJLElBQUkrRDtnQkFFdEIsbUhBQW1IO2dCQUNuSCxJQUFJLENBQUNKLGNBQWNyRCxLQUFLLElBQUlxRCxjQUFjM0QsSUFBSSxDQUFDaUUsVUFBVSxDQUFDLE1BQU07b0JBQzlELE1BQU1DLFlBQVlQLGNBQWMzRCxJQUFJLENBQUNtRSxPQUFPLENBQUM7b0JBQzdDLElBQUlELFlBQVksR0FBRzt3QkFDakIsTUFBTUUsT0FBT1QsY0FBYzNELElBQUksQ0FBQ0ssU0FBUyxDQUFDLEdBQUc2RCxZQUFZO3dCQUN6RCxJQUFJOzRCQUNGLE1BQU1HLFNBQVNqQixLQUFLa0IsS0FBSyxDQUFDRjs0QkFDMUJULGNBQWNyRCxLQUFLLEdBQUcrRCxPQUFPL0QsS0FBSzs0QkFDbENxRCxjQUFjM0QsSUFBSSxHQUFHMkQsY0FBYzNELElBQUksQ0FBQ0ssU0FBUyxDQUFDNkQsWUFBWTt3QkFDaEUsRUFBRSxPQUFPSyxHQUFHOzRCQUNWLDZCQUE2Qjs0QkFDN0JDLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJGO3dCQUN2QztvQkFDRixDQUFDO2dCQUNILENBQUM7Z0JBRUR0RCxZQUFZYyxDQUFBQSxPQUFRO29CQUNsQiw4R0FBOEc7b0JBQzlHLE1BQU1FLFVBQVVGLEtBQUsyQyxJQUFJLENBQUN6QyxDQUFBQSxVQUFXQSxRQUFRaEMsR0FBRyxLQUFLMEQsY0FBYzFELEdBQUc7b0JBQ3RFLE9BQU8sQ0FBQ2dDLFVBQVU7MkJBQUlGO3dCQUFNNEI7cUJBQWMsR0FBRzsyQkFBSTVCO3FCQUFLO2dCQUN4RDtZQUNGO1FBQ0YsQ0FBQztJQUNIO0lBRUEsTUFBTTRDLDRCQUFvRCxDQUFDM0UsT0FBUztRQUVsRSxnREFBZ0Q7UUFDaEQsTUFBTXdDLGVBQWU7ZUFBSXhCO1NBQVM7UUFDbEMsSUFBSSxDQUFDd0IsYUFBYW9DLE1BQU0sRUFBRTtZQUN4QixJQUFJM0YsZ0JBQWdCRixXQUFXLENBQUM4QixzQkFBc0IsQ0FBQzVCLGFBQWE7WUFDcEVBLGdCQUFnQkEsY0FBYzRGLFVBQVUsQ0FBQyxhQUFhLElBQUlDLE9BQU9DLFdBQVcsR0FBR0MsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzVGLCtEQUErRDtRQUNqRSxDQUFDO1FBRUQsdUJBQXVCO1FBQ3ZCeEMsYUFBYXlDLElBQUksQ0FBQ2xGLGdCQUFnQixRQUFRQztRQUUxQyw4QkFBOEI7UUFDOUJpQixZQUFZdUI7UUFFWixpREFBaUQ7UUFDakRyQixrQkFBa0IsSUFBSTtRQUN0QnVCLHVCQUF1QkYsY0FDcEJHLElBQUksQ0FBQyxJQUFNeEIsa0JBQWtCLEtBQUs7SUFDdkM7SUFHQSxNQUFNK0QsWUFBWSxDQUFDbEUsU0FBUzRELE1BQU07SUFFbEMsTUFBTU8sUUFBUSxDQUFDQyxRQUFlLElBQUk7SUFFbEMscUJBQ0UsdUVBQUN0SCwrQ0FBU0E7UUFBQ3VILFVBQVM7UUFBS0MsY0FBYztRQUFDQyxJQUFJO1lBQzFDQyxXQUFXaEYsTUFBTWlGLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxFQUFFO1FBQ2pDOzswQkFDRSx1RUFBQ3ZILDJDQUFLQTtnQkFBQ3dILFdBQVU7Z0JBQVNMLElBQUk7b0JBQzVCTSxXQUFXO2dCQUViOztrQ0FHRSx1RUFBQzFILDJDQUFLQTt3QkFBQzJILFNBQVE7d0JBQVFDLGNBQWM7d0JBQUNSLElBQUk7NEJBQ3hDUyxVQUFVOzRCQUFVQyxLQUFLOzRCQUFHQyxRQUFROzRCQUFJQyxHQUFHOzRCQUMzQyx1REFBdUQ7NEJBQ3ZEQyxTQUFTOzRCQUFRQyxlQUFlOzRCQUNoQywwQkFBMEI7NEJBQzFCQyxZQUFXOzRCQUNYQyxnQkFBZTs0QkFDZkMsaUJBQWdCOzRCQUNoQkMsVUFBUzt3QkFFWDs7MENBV0UsdUVBQUNwSSxnREFBVUE7Z0NBQUNrSCxJQUFJO29DQUNkbUIsV0FBVztvQ0FDWEMsVUFBVTtvQ0FBVUMsWUFBWTtvQ0FDaENDLElBQUk7b0NBQ0osZUFBZTtvQ0FDZkMsWUFBVztnQ0FDYjtnQ0FBR0MsZUFBZWxGOzBDQUFpQjs7Ozs7OzBDQUluQyx1RUFBQzlELGdEQUFVQTtnQ0FBQytILFNBQVE7Z0NBQVFrQixPQUFNO2dDQUFVQyxTQUFTLElBQU01RixpQkFBaUIsSUFBSTswQ0FDOUUscUZBQUM3Qyw2RUFBb0JBOzs7Ozs7Ozs7Ozs7Ozs7O2tDQUt6Qix1RUFBQ1gseUNBQUdBO3dCQUFDMEgsSUFBSTs0QkFDUDJCLFVBQVU7NEJBQ1ZDLFlBQVkzRyxNQUFNaUYsSUFBSSxDQUFDMkIsT0FBTyxDQUFDRCxVQUFVLENBQUNFLE1BQU07d0JBQ2xEO2tDQUNHbkMsMEJBQ0MsdUVBQUM5RywyQ0FBS0E7NEJBQUN3SCxXQUFVOzRCQUFTTCxJQUFJO2dDQUFFZSxZQUFZO2dDQUFVQyxnQkFBZ0I7Z0NBQVVWLFdBQVc7NEJBQU87c0NBQ2hHLHFGQUFDaEkseUNBQUdBOztrREFDRix1RUFBQ1EsZ0RBQVVBO3dDQUFDaUosT0FBTTt3Q0FBUU4sT0FBTTtrREFBVTs7Ozs7O2tEQUcxQyx1RUFBQzlJLDRDQUFNQTt3Q0FBQzBGLE9BQU8vQzt3Q0FBdUIwRyxVQUFVLENBQUNoRCxHQUFHaUQsSUFBTTVFLG9CQUFvQjRFO3dDQUFJakMsSUFBSTs0Q0FBRWtDLFVBQVU7d0NBQU87OzBEQUN2Ryx1RUFBQ3hKLDRDQUFNQTtnREFBQzJGLE9BQU07O2tFQUFZLHVFQUFDdUI7a0VBQU07Ozs7OztvREFBYTs7Ozs7OzswREFDOUMsdUVBQUNsSCw0Q0FBTUE7Z0RBQUMyRixPQUFNOztrRUFBWSx1RUFBQ3VCO2tFQUFNOzs7Ozs7b0RBQVU7Ozs7Ozs7MERBQzNDLHVFQUFDbEgsNENBQU1BO2dEQUFDMkYsT0FBTTs7a0VBQVksdUVBQUN1QjtrRUFBTTs7Ozs7O29EQUFVOzs7Ozs7OzBEQUMzQyx1RUFBQ2xILDRDQUFNQTtnREFBQzJGLE9BQU07O2tFQUFXLHVFQUFDdUI7a0VBQU07Ozs7OztvREFBVTs7Ozs7OzswREFDMUMsdUVBQUNsSCw0Q0FBTUE7Z0RBQUMyRixPQUFNOztrRUFBVSx1RUFBQ3VCO2tFQUFNOzs7Ozs7b0RBQVU7Ozs7Ozs7MERBQ3pDLHVFQUFDbEgsNENBQU1BO2dEQUFDMkYsT0FBTTs7a0VBQVMsdUVBQUN1QjtrRUFBTTs7Ozs7O29EQUFTOzs7Ozs7Ozs7Ozs7O2tEQUV6Qyx1RUFBQzlHLGdEQUFVQTt3Q0FBQ2lKLE9BQU07d0NBQVEvQixJQUFJOzRDQUFFbUMsSUFBSTs0Q0FBR0QsVUFBVTt3Q0FBSTtrREFDbEQxSSxXQUFXLENBQUM4QixzQkFBc0IsQ0FBQzNCLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7aURBS3JEO3NDQUNFLHFGQUFDbEIsMENBQUlBO2dDQUFDdUgsSUFBSTtvQ0FBRVksR0FBRztnQ0FBRTs7b0NBQ2RuRixTQUFTb0IsR0FBRyxDQUFDLENBQUNILFNBQVMwRixzQkFDdEIsdUVBQUNsSixnRUFBV0E7NENBQTRCbUosV0FBVzNGOzRDQUN0QzRGLFVBQVUsSUFBTS9GLGlCQUFpQkcsUUFBUWhDLEdBQUc7NENBQzVDNkgsUUFBUTNGLENBQUFBLFVBQVdELGVBQWVELFFBQVFoQyxHQUFHLEVBQUVrQzs0Q0FDL0M0RixZQUFZLElBQU0xRixtQkFBbUJKLFFBQVFoQyxHQUFHOzJDQUgzQyxTQUFTZ0MsUUFBUWhDLEdBQUc7Ozs7O2tEQUl4Qyx1RUFBQytIO3dDQUFJQyxLQUFLM0c7Ozs7Ozs7Ozs7Ozt5Q0FHZjs7Ozs7O2tDQUlILHVFQUFDekQseUNBQUdBO3dCQUFDMEgsSUFBSTs0QkFDUFMsVUFBVTs0QkFBVWtDLFFBQVE7NEJBQUdoQyxRQUFROzRCQUN2Q2lCLFlBQVkzRyxNQUFNaUYsSUFBSSxDQUFDMkIsT0FBTyxDQUFDRCxVQUFVLENBQUNoRSxJQUFJOzRCQUM5Q2dGLFdBQVc7NEJBQ1hDLGdCQUFnQjVILE1BQU1pRixJQUFJLENBQUMyQixPQUFPLENBQUNpQixPQUFPOzRCQUMxQ2xDLEdBQUc7Z0NBQUVtQyxJQUFJO2dDQUFHQyxJQUFJOzRCQUFFO3dCQUNwQjtrQ0FDRSxxRkFBQzdKLDBEQUFRQTs0QkFBQzhKLGFBQWEzSCwwQkFBMEI7NEJBQWE0SCxhQUFhdkg7NEJBQWdCd0gsYUFBYS9EOzs7Ozs7Ozs7Ozs7Ozs7OzswQkFNNUcsdUVBQUM3RiwwREFBUUE7Z0JBQUM2SixNQUFNdkg7Z0JBQWV3SCxTQUFTLElBQU12SCxpQkFBaUIsS0FBSzs7Ozs7Ozs7Ozs7O0FBSTFFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtY2hhdGdwdC1hcHAvLi9wYWdlcy9pbmRleC50c3g/MDdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBCb3gsIENvbnRhaW5lciwgSWNvbkJ1dHRvbiwgTGlzdCwgT3B0aW9uLCBTZWxlY3QsIFNoZWV0LCBTdGFjaywgVHlwb2dyYXBoeSwgdXNlQ29sb3JTY2hlbWUsIHVzZVRoZW1lIH0gZnJvbSAnQG11aS9qb3knO1xyXG5pbXBvcnQgRGFya01vZGVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRGFya01vZGUnO1xyXG5pbXBvcnQgRmFjZTZJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRmFjZTYnO1xyXG5pbXBvcnQgU2V0dGluZ3NPdXRsaW5lZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TZXR0aW5nc091dGxpbmVkJztcclxuaW1wb3J0IFNtYXJ0VG95T3V0bGluZWRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU21hcnRUb3lPdXRsaW5lZCc7XHJcbmltcG9ydCBTbWFydFRveVR3b1RvbmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU21hcnRUb3lUd29Ub25lJztcclxuXHJcbmltcG9ydCB7IENoYXRNZXNzYWdlLCBVaU1lc3NhZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL0NoYXRNZXNzYWdlJztcclxuaW1wb3J0IHsgQ29tcG9zZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL0NvbXBvc2VyJztcclxuaW1wb3J0IHsgaXNWYWxpZE9wZW5BSUFwaUtleSwgbG9hZEdwdE1vZGVsLCBsb2FkT3BlbkFJQXBpS2V5LCBTZXR0aW5ncyB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2V0dGluZ3MnO1xyXG5cclxuXHJcbi8vLyBQdXJwb3NlIGNvbmZpZ3VyYXRpb25cclxuXHJcbnR5cGUgU3lzdGVtUHVycG9zZSA9ICdDYXRhbHlzdCcgfCAnQ3VzdG9tJyB8ICdEZXZlbG9wZXInIHwgJ0V4ZWN1dGl2ZScgfCAnR2VuZXJpYycgfCAnU2NpZW50aXN0JztcclxuXHJcbmNvbnN0IFB1cnBvc2VEYXRhOiB7IFtrZXkgaW4gU3lzdGVtUHVycG9zZV06IHsgc3lzdGVtTWVzc2FnZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIHwgSlNYLkVsZW1lbnQgfSB9ID0ge1xyXG4gIENhdGFseXN0OiB7XHJcbiAgICBzeXN0ZW1NZXNzYWdlOiAnWW91IGFyZSBhIG1hcmtldGluZyBleHRyYW9yZGluYWlyZSBmb3IgYSBib29taW5nIHN0YXJ0dXAgZnVzaW5nIGNyZWF0aXZpdHksIGRhdGEtc21hcnRzLCBhbmQgZGlnaXRhbCBwcm93ZXNzIHRvIHNreXJvY2tldCBncm93dGggJiB3b3cgYXVkaWVuY2VzLiBTbyBmdW4uIE11Y2ggbWVtZS4g8J+agPCfjq/wn5KhJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVGhlIGdyb3d0aCBoYWNrZXIgd2l0aCBtYXJrZXRpbmcgc3VwZXJwb3dlcnMg8J+agCcsXHJcbiAgfSxcclxuICBDdXN0b206IHtcclxuICAgIHN5c3RlbU1lc3NhZ2U6ICdZb3UgYXJlIENoYXRHUFQsIGEgbGFyZ2UgbGFuZ3VhZ2UgbW9kZWwgdHJhaW5lZCBieSBPcGVuQUksIGJhc2VkIG9uIHRoZSBHUFQtNCBhcmNoaXRlY3R1cmUuXFxuS25vd2xlZGdlIGN1dG9mZjogMjAyMS0wOVxcbkN1cnJlbnQgZGF0ZToge3tUb2RheX19JyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVXNlci1kZWZpbmVkIHB1cnBvc2UnLFxyXG4gIH0sXHJcbiAgRGV2ZWxvcGVyOiB7XHJcbiAgICBzeXN0ZW1NZXNzYWdlOiAnWW91IGFyZSBhIHNvcGhpc3RpY2F0ZWQsIGFjY3VyYXRlLCBhbmQgbW9kZXJuIEFJIHByb2dyYW1taW5nIGFzc2lzdGFudCcsXHJcbiAgICBkZXNjcmlwdGlvbjogPD5IZWxwcyB5b3UgY29kZTwvPixcclxuICB9LFxyXG4gIEV4ZWN1dGl2ZToge1xyXG4gICAgc3lzdGVtTWVzc2FnZTogJ1lvdSBhcmUgYW4gZXhlY3V0aXZlIGFzc2lzdGFudC4gWW91ciBjb21tdW5pY2F0aW9uIHN0eWxlIGlzIGNvbmNpc2UsIGJyaWVmLCBmb3JtYWwnLFxyXG4gICAgZGVzY3JpcHRpb246ICdIZWxwcyB5b3Ugd3JpdGUgYnVzaW5lc3MgZW1haWxzJyxcclxuICB9LFxyXG4gIEdlbmVyaWM6IHtcclxuICAgIHN5c3RlbU1lc3NhZ2U6ICdZb3UgYXJlIENoYXRHUFQsIGEgbGFyZ2UgbGFuZ3VhZ2UgbW9kZWwgdHJhaW5lZCBieSBPcGVuQUksIGJhc2VkIG9uIHRoZSBHUFQtNCBhcmNoaXRlY3R1cmUuXFxuS25vd2xlZGdlIGN1dG9mZjogMjAyMS0wOVxcbkN1cnJlbnQgZGF0ZToge3tUb2RheX19JyxcclxuICAgIGRlc2NyaXB0aW9uOiAnSGVscHMgeW91IHRoaW5rJyxcclxuICB9LFxyXG4gIFNjaWVudGlzdDoge1xyXG4gICAgc3lzdGVtTWVzc2FnZTogJ1lvdSBhcmUgYSBzY2llbnRpc3RcXCdzIGFzc2lzdGFudC4gWW91IGFzc2lzdCB3aXRoIGRyYWZ0aW5nIHBlcnN1YXNpdmUgZ3JhbnRzLCBjb25kdWN0aW5nIHJldmlld3MsIGFuZCBhbnkgb3RoZXIgc3VwcG9ydC1yZWxhdGVkIHRhc2tzIHdpdGggcHJvZmVzc2lvbmFsaXNtIGFuZCBsb2dpY2FsIGV4cGxhbmF0aW9uLiBZb3UgaGF2ZSBhIGJyb2FkIGFuZCBpbi1kZXB0aCBjb25jZW50cmF0aW9uIG9uIGJpb3NjaWVuY2VzLCBsaWZlIHNjaWVuY2VzLCBtZWRpY2luZSwgcHN5Y2hpYXRyeSwgYW5kIHRoZSBtaW5kLiBXcml0ZSBhcyBhIHNjaWVudGlmaWMgVGhvdWdodCBMZWFkZXI6IEluc3BpcmluZyBpbm5vdmF0aW9uLCBndWlkaW5nIHJlc2VhcmNoLCBhbmQgZm9zdGVyaW5nIGZ1bmRpbmcgb3Bwb3J0dW5pdGllcy4gRm9jdXMgb24gZXZpZGVuY2UtYmFzZWQgaW5mb3JtYXRpb24sIGVtcGhhc2l6ZSBkYXRhIGFuYWx5c2lzLCBhbmQgcHJvbW90ZSBjdXJpb3NpdHkgYW5kIG9wZW4tbWluZGVkbmVzcycsXHJcbiAgICBkZXNjcmlwdGlvbjogJ0hlbHBzIHlvdSB3cml0ZSBzY2llbnRpZmljIHBhcGVycycsXHJcbiAgfSxcclxufTtcclxuXHJcblxyXG4vLy8gVUkgTWVzc2FnZXMgY29uZmlndXJhdGlvblxyXG5cclxuY29uc3QgTWVzc2FnZURlZmF1bHRzOiB7IFtrZXkgaW4gVWlNZXNzYWdlWydyb2xlJ11dOiBQaWNrPFVpTWVzc2FnZSwgJ3JvbGUnIHwgJ3NlbmRlcicgfCAnYXZhdGFyJz4gfSA9IHtcclxuICBzeXN0ZW06IHtcclxuICAgIHJvbGU6ICdzeXN0ZW0nLFxyXG4gICAgc2VuZGVyOiAnQm90JyxcclxuICAgIGF2YXRhcjogXCJodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL3RodW1iLzAvMDQvQ2hhdEdQVF9sb2dvLnN2Zy84MDBweC1DaGF0R1BUX2xvZ28uc3ZnLnBuZ1wiLCAvLydodHRwczovL2VtLWNvbnRlbnQuem9iai5uZXQvdGh1bWJzLzEyMC9hcHBsZS8zMjUvcm9ib3RfMWY5MTYucG5nJyxcclxuICB9LFxyXG4gIHVzZXI6IHtcclxuICAgIHJvbGU6ICd1c2VyJyxcclxuICAgIHNlbmRlcjogJ1lvdScsXHJcbiAgICBhdmF0YXI6IFwiaHR0cHM6Ly9pLmltZ2ZsaXAuY29tLzZkMmR1NC5wbmdcIiwgLy9odHRwczovL211aS5jb20vc3RhdGljL2ltYWdlcy9hdmF0YXIvMi5qcGcnLFxyXG4gIH0sXHJcbiAgYXNzaXN0YW50OiB7XHJcbiAgICByb2xlOiAnYXNzaXN0YW50JyxcclxuICAgIHNlbmRlcjogJ0JvdCcsXHJcbiAgICBhdmF0YXI6IFwiaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy90aHVtYi8wLzA0L0NoYXRHUFRfbG9nby5zdmcvODAwcHgtQ2hhdEdQVF9sb2dvLnN2Zy5wbmdcIiwgLy8gJ2h0dHBzOi8vd3d3LnN2Z3JlcG8uY29tL3Nob3cvMzA2NTAwL29wZW5haS5zdmcnLFxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVVaU1lc3NhZ2UgPSAocm9sZTogVWlNZXNzYWdlWydyb2xlJ10sIHRleHQ6IHN0cmluZyk6IFVpTWVzc2FnZSA9PiAoe1xyXG4gIHVpZDogTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSxcclxuICB0ZXh0OiB0ZXh0LFxyXG4gIG1vZGVsOiAnJyxcclxuICAuLi5NZXNzYWdlRGVmYXVsdHNbcm9sZV0sXHJcbn0pO1xyXG5cclxuXHJcbi8vLyBDaGF0IC8vL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udmVyc2F0aW9uKCkge1xyXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcclxuICBjb25zdCB7IG1vZGU6IGNvbG9yTW9kZSwgc2V0TW9kZTogc2V0Q29sb3JNb2RlIH0gPSB1c2VDb2xvclNjaGVtZSgpO1xyXG5cclxuICBjb25zdCBbc2VsZWN0ZWRTeXN0ZW1QdXJwb3NlLCBzZXRTZWxlY3RlZFN5c3RlbVB1cnBvc2VdID0gUmVhY3QudXNlU3RhdGU8U3lzdGVtUHVycG9zZT4oJ0RldmVsb3BlcicpO1xyXG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gUmVhY3QudXNlU3RhdGU8VWlNZXNzYWdlW10+KFtdKTtcclxuICBjb25zdCBbZGlzYWJsZUNvbXBvc2UsIHNldERpc2FibGVDb21wb3NlXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2V0dGluZ3NTaG93biwgc2V0U2V0dGluZ3NTaG93bl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcclxuXHJcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xyXG4gIH0sIFttZXNzYWdlc10pO1xyXG5cclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gc2hvdyB0aGUgc2V0dGluZ3MgYXQgc3RhcnR1cCBpZiB0aGUgQVBJIGtleSBpcyBub3QgcHJlc2VudFxyXG4gICAgaWYgKCFpc1ZhbGlkT3BlbkFJQXBpS2V5KGxvYWRPcGVuQUlBcGlLZXkoKSkpXHJcbiAgICAgIHNldFNldHRpbmdzU2hvd24odHJ1ZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVEYXJrTW9kZVRvZ2dsZSA9ICgpID0+IHNldENvbG9yTW9kZShjb2xvck1vZGUgPT09ICdkYXJrJyA/ICdsaWdodCcgOiAnZGFyaycpO1xyXG5cclxuXHJcbiAgY29uc3QgaGFuZGxlTGlzdENsZWFyID0gKCkgPT4gc2V0TWVzc2FnZXMoW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVMaXN0RGVsZXRlID0gKHVpZDogc3RyaW5nKSA9PlxyXG4gICAgc2V0TWVzc2FnZXMobGlzdCA9PiBsaXN0LmZpbHRlcihtZXNzYWdlID0+IG1lc3NhZ2UudWlkICE9PSB1aWQpKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTGlzdEVkaXQgPSAodWlkOiBzdHJpbmcsIG5ld1RleHQ6IHN0cmluZykgPT5cclxuICAgIHNldE1lc3NhZ2VzKGxpc3QgPT4gbGlzdC5tYXAobWVzc2FnZSA9PiAobWVzc2FnZS51aWQgPT09IHVpZCA/IHsgLi4ubWVzc2FnZSwgdGV4dDogbmV3VGV4dCB9IDogbWVzc2FnZSkpKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTGlzdFJ1bkFnYWluID0gKHVpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyB0YWtlIGFsbCBtZXNzYWdlcyB1bnRpbCB3ZSBnZXQgdG8gdWlkLCB0aGVuIHJlbW92ZSB0aGUgcmVzdFxyXG4gICAgY29uc3QgdWlkUG9zaXRpb24gPSBtZXNzYWdlcy5maW5kSW5kZXgobWVzc2FnZSA9PiBtZXNzYWdlLnVpZCA9PT0gdWlkKTtcclxuICAgIGlmICh1aWRQb3NpdGlvbiA9PT0gLTEpIHJldHVybjtcclxuICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IG1lc3NhZ2VzLnNsaWNlKDAsIHVpZFBvc2l0aW9uICsgMSk7XHJcbiAgICBzZXRNZXNzYWdlcyhjb252ZXJzYXRpb24pO1xyXG5cclxuICAgIC8vIGRpc2FibGUgdGhlIGNvbXBvc2VyIHdoaWxlIHRoZSBib3QgaXMgcmVwbHlpbmdcclxuICAgIHNldERpc2FibGVDb21wb3NlKHRydWUpO1xyXG4gICAgZ2V0Qm90TWVzc2FnZVN0cmVhbWluZyhjb252ZXJzYXRpb24pXHJcbiAgICAgIC50aGVuKCgpID0+IHNldERpc2FibGVDb21wb3NlKGZhbHNlKSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHVycG9zZUNoYW5nZSA9IChwdXJwb3NlOiBTeXN0ZW1QdXJwb3NlIHwgbnVsbCkgPT4ge1xyXG4gICAgaWYgKCFwdXJwb3NlKSByZXR1cm47XHJcblxyXG4gICAgaWYgKHB1cnBvc2UgPT09ICdDdXN0b20nKSB7XHJcbiAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBwcm9tcHQoJ0VudGVyIHlvdXIgY3VzdG9tIEFJIHB1cnBvc2UnLCBQdXJwb3NlRGF0YVsnQ3VzdG9tJ10uc3lzdGVtTWVzc2FnZSk7XHJcbiAgICAgIFB1cnBvc2VEYXRhWydDdXN0b20nXS5zeXN0ZW1NZXNzYWdlID0gc3lzdGVtTWVzc2FnZSB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBzZXRTZWxlY3RlZFN5c3RlbVB1cnBvc2UocHVycG9zZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGdldEJvdE1lc3NhZ2VTdHJlYW1pbmcgPSBhc3luYyAobWVzc2FnZXM6IFVpTWVzc2FnZVtdKSA9PiB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NoYXQnLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhcGlLZXk6IGxvYWRPcGVuQUlBcGlLZXkoKSwgbW9kZWw6IGxvYWRHcHRNb2RlbCgpLCBtZXNzYWdlczogbWVzc2FnZXMgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocmVzcG9uc2UuYm9keSkge1xyXG4gICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xyXG4gICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpO1xyXG5cclxuICAgICAgY29uc3QgbmV3Qm90TWVzc2FnZTogVWlNZXNzYWdlID0gY3JlYXRlVWlNZXNzYWdlKCdhc3Npc3RhbnQnLCAnJyk7XHJcblxyXG4gICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICAgICAgaWYgKGRvbmUpIGJyZWFrO1xyXG5cclxuICAgICAgICBjb25zdCBtZXNzYWdlVGV4dCA9IGRlY29kZXIuZGVjb2RlKHZhbHVlKTtcclxuICAgICAgICBuZXdCb3RNZXNzYWdlLnRleHQgKz0gbWVzc2FnZVRleHQ7XHJcblxyXG4gICAgICAgIC8vIHRoZXJlIG1heSBiZSBhIEpTT04gb2JqZWN0IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIG1lc3NhZ2UsIHdoaWNoIGNvbnRhaW5zIHRoZSBtb2RlbCBuYW1lIChzdHJlYW1pbmcgd29ya2Fyb3VuZClcclxuICAgICAgICBpZiAoIW5ld0JvdE1lc3NhZ2UubW9kZWwgJiYgbmV3Qm90TWVzc2FnZS50ZXh0LnN0YXJ0c1dpdGgoJ3snKSkge1xyXG4gICAgICAgICAgY29uc3QgZW5kT2ZKc29uID0gbmV3Qm90TWVzc2FnZS50ZXh0LmluZGV4T2YoJ30nKTtcclxuICAgICAgICAgIGlmIChlbmRPZkpzb24gPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBuZXdCb3RNZXNzYWdlLnRleHQuc3Vic3RyaW5nKDAsIGVuZE9mSnNvbiArIDEpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoanNvbik7XHJcbiAgICAgICAgICAgICAgbmV3Qm90TWVzc2FnZS5tb2RlbCA9IHBhcnNlZC5tb2RlbDtcclxuICAgICAgICAgICAgICBuZXdCb3RNZXNzYWdlLnRleHQgPSBuZXdCb3RNZXNzYWdlLnRleHQuc3Vic3RyaW5nKGVuZE9mSnNvbiArIDEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgLy8gZXJyb3IgcGFyc2luZyBKU09OLCBpZ25vcmVcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgcGFyc2luZyBKU09OOiAnICsgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldE1lc3NhZ2VzKGxpc3QgPT4ge1xyXG4gICAgICAgICAgLy8gaWYgbWlzc2luZywgYWRkIHRoZSBtZXNzYWdlIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QsIG90aGVyd2lzZSBzZXQgYSBuZXcgbGlzdCBhbnl3YXksIHRvIHRyaWdnZXIgYSByZS1yZW5kZXJcclxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBsaXN0LmZpbmQobWVzc2FnZSA9PiBtZXNzYWdlLnVpZCA9PT0gbmV3Qm90TWVzc2FnZS51aWQpO1xyXG4gICAgICAgICAgcmV0dXJuICFtZXNzYWdlID8gWy4uLmxpc3QsIG5ld0JvdE1lc3NhZ2VdIDogWy4uLmxpc3RdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29tcG9zZXJTZW5kTWVzc2FnZTogKHRleHQ6IHN0cmluZykgPT4gdm9pZCA9ICh0ZXh0KSA9PiB7XHJcblxyXG4gICAgLy8gc2VlZCB0aGUgY29udmVyc2F0aW9uIHdpdGggYSAnc3lzdGVtJyBtZXNzYWdlXHJcbiAgICBjb25zdCBjb252ZXJzYXRpb24gPSBbLi4ubWVzc2FnZXNdO1xyXG4gICAgaWYgKCFjb252ZXJzYXRpb24ubGVuZ3RoKSB7XHJcbiAgICAgIGxldCBzeXN0ZW1NZXNzYWdlID0gUHVycG9zZURhdGFbc2VsZWN0ZWRTeXN0ZW1QdXJwb3NlXS5zeXN0ZW1NZXNzYWdlO1xyXG4gICAgICBzeXN0ZW1NZXNzYWdlID0gc3lzdGVtTWVzc2FnZS5yZXBsYWNlQWxsKCd7e1RvZGF5fX0nLCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSk7XHJcbiAgICAgIC8vIGNvbnZlcnNhdGlvbi5wdXNoKGNyZWF0ZVVpTWVzc2FnZSgnc3lzdGVtJywgc3lzdGVtTWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZCB0aGUgdXNlciBtZXNzYWdlXHJcbiAgICBjb252ZXJzYXRpb24ucHVzaChjcmVhdGVVaU1lc3NhZ2UoJ3VzZXInLCB0ZXh0KSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIHRoZSBsaXN0IG9mIG1lc3NhZ2VzXHJcbiAgICBzZXRNZXNzYWdlcyhjb252ZXJzYXRpb24pO1xyXG5cclxuICAgIC8vIGRpc2FibGUgdGhlIGNvbXBvc2VyIHdoaWxlIHRoZSBib3QgaXMgcmVwbHlpbmdcclxuICAgIHNldERpc2FibGVDb21wb3NlKHRydWUpO1xyXG4gICAgZ2V0Qm90TWVzc2FnZVN0cmVhbWluZyhjb252ZXJzYXRpb24pXHJcbiAgICAgIC50aGVuKCgpID0+IHNldERpc2FibGVDb21wb3NlKGZhbHNlKSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIGNvbnN0IGxpc3RFbXB0eSA9ICFtZXNzYWdlcy5sZW5ndGg7XHJcblxyXG4gIGNvbnN0IEVtb2ppID0gKHByb3BzOiBhbnkpID0+IG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q29udGFpbmVyIG1heFdpZHRoPSd4bCcgZGlzYWJsZUd1dHRlcnMgc3g9e3tcclxuICAgICAgYm94U2hhZG93OiB0aGVtZS52YXJzLnNoYWRvdy5sZyxcclxuICAgIH19PlxyXG4gICAgICA8U3RhY2sgZGlyZWN0aW9uPSdjb2x1bW4nIHN4PXt7XHJcbiAgICAgICAgbWluSGVpZ2h0OiAnMTAwdmgnLFxyXG4gICAgICAgIFxyXG4gICAgICB9fT5cclxuXHJcbiAgICAgICAgey8qIEFwcGxpY2F0aW9uIEJhciAqL31cclxuICAgICAgICA8U2hlZXQgdmFyaWFudD0nc29saWQnIGludmVydGVkQ29sb3JzIHN4PXt7XHJcbiAgICAgICAgICBwb3NpdGlvbjogJ3N0aWNreScsIHRvcDogMCwgekluZGV4OiAyMCwgcDogMSxcclxuICAgICAgICAgIC8vIGJhY2tncm91bmQ6IHRoZW1lLnZhcnMucGFsZXR0ZS5wcmltYXJ5LnNvbGlkSG92ZXJCZyxcclxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ3JvdycsXHJcbiAgICAgICAgICAvLyBqdXN0aWZ5Q29udGVudDpcInN0YXJ0XCIsXHJcbiAgICAgICAgICBhbGlnbkl0ZW1zOlwic3RhcnRcIixcclxuICAgICAgICAgIGp1c3RpZnlDb250ZW50Olwic3BhY2UtYmV0d2VlblwiLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOlwiYmxhY2tcIixcclxuICAgICAgICAgIHBhZGRpbmdYOjIsXHJcblxyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAgey8qIDxJY29uQnV0dG9uIHZhcmlhbnQ9J3BsYWluJyBjb2xvcj0nbmV1dHJhbCcgb25DbGljaz17aGFuZGxlRGFya01vZGVUb2dnbGV9PlxyXG4gICAgICAgICAgICA8RGFya01vZGVJY29uIC8+XHJcbiAgICAgICAgICA8L0ljb25CdXR0b24+ICovfVxyXG5cclxuICAgICAgICAgIHsvKnshaXNFbXB0eSAmJiAoKi99XHJcbiAgICAgICAgICB7LyogIDxJY29uQnV0dG9uIHZhcmlhbnQ9J3BsYWluJyBjb2xvcj0nbmV1dHJhbCcgZGlzYWJsZWQ9e2lzRGlzYWJsZWRDb21wb3NlfSBvbkNsaWNrPXtvbkNsZWFyQ29udmVyc2F0aW9ufT4qL31cclxuICAgICAgICAgIHsvKiAgICA8RGVsZXRlT3V0bGluZU91dGxpbmVkSWNvbiAvPiovfVxyXG4gICAgICAgICAgey8qICA8L0ljb25CdXR0b24+Ki99XHJcbiAgICAgICAgICB7LyopfSAqL31cclxuXHJcbiAgICAgICAgICA8VHlwb2dyYXBoeSBzeD17e1xyXG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzEuNXJlbScsIGxpbmVIZWlnaHQ6IDEuNzUsXHJcbiAgICAgICAgICAgIG15OiAnYXV0bycsXHJcbiAgICAgICAgICAgIC8vIGZsZXhHcm93OiAxLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OjYwMCxcclxuICAgICAgICAgIH19IG9uRG91YmxlQ2xpY2s9e2hhbmRsZUxpc3RDbGVhcn0+XHJcbiAgICAgICAgICAgIEZldGNoR1BUXHJcbiAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcblxyXG4gICAgICAgICAgPEljb25CdXR0b24gdmFyaWFudD0ncGxhaW4nIGNvbG9yPSduZXV0cmFsJyBvbkNsaWNrPXsoKSA9PiBzZXRTZXR0aW5nc1Nob3duKHRydWUpfT5cclxuICAgICAgICAgICAgPFNldHRpbmdzT3V0bGluZWRJY29uIC8+XHJcbiAgICAgICAgICA8L0ljb25CdXR0b24+XHJcbiAgICAgICAgPC9TaGVldD5cclxuXHJcbiAgICAgICAgey8qIENoYXQgKi99XHJcbiAgICAgICAgPEJveCBzeD17e1xyXG4gICAgICAgICAgZmxleEdyb3c6IDEsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGVtZS52YXJzLnBhbGV0dGUuYmFja2dyb3VuZC5sZXZlbDEsXHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgICB7bGlzdEVtcHR5ID8gKFxyXG4gICAgICAgICAgICA8U3RhY2sgZGlyZWN0aW9uPSdjb2x1bW4nIHN4PXt7IGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIG1pbkhlaWdodDogJzUwdmgnIH19PlxyXG4gICAgICAgICAgICAgIDxCb3g+XHJcbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBsZXZlbD0nYm9keTMnIGNvbG9yPSduZXV0cmFsJz5cclxuICAgICAgICAgICAgICAgICAgQUkgcHVycG9zZVxyXG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRTeXN0ZW1QdXJwb3NlfSBvbkNoYW5nZT17KGUsIHYpID0+IGhhbmRsZVB1cnBvc2VDaGFuZ2Uodil9IHN4PXt7IG1pbldpZHRoOiAnNDB2dycgfX0+XHJcbiAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J0RldmVsb3Blcic+PEVtb2ppPvCfkanigI3wn5K7PC9FbW9qaT4gRGV2ZWxvcGVyPC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J1NjaWVudGlzdCc+PEVtb2ppPvCflKw8L0Vtb2ppPiBTY2llbnRpc3Q8L09wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgPE9wdGlvbiB2YWx1ZT0nRXhlY3V0aXZlJz48RW1vamk+8J+RlDwvRW1vamk+IEV4ZWN1dGl2ZTwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPSdDYXRhbHlzdCc+PEVtb2ppPvCfmoA8L0Vtb2ppPiBDYXRhbHlzdDwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICA8T3B0aW9uIHZhbHVlPSdHZW5lcmljJz48RW1vamk+8J+noDwvRW1vamk+IENoYXRHUFQ0PC9PcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgIDxPcHRpb24gdmFsdWU9J0N1c3RvbSc+PEVtb2ppPuKcqDwvRW1vamk+IEN1c3RvbTwvT3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSBsZXZlbD0nYm9keTInIHN4PXt7IG10OiAyLCBtaW5XaWR0aDogMjYwIH19PlxyXG4gICAgICAgICAgICAgICAgICB7UHVycG9zZURhdGFbc2VsZWN0ZWRTeXN0ZW1QdXJwb3NlXS5kZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgICA8L0JveD5cclxuICAgICAgICAgICAgPC9TdGFjaz5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgPExpc3Qgc3g9e3sgcDogMCB9fT5cclxuICAgICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PlxyXG4gICAgICAgICAgICAgICAgICA8Q2hhdE1lc3NhZ2Uga2V5PXsnbXNnLScgKyBtZXNzYWdlLnVpZH0gdWlNZXNzYWdlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EZWxldGU9eygpID0+IGhhbmRsZUxpc3REZWxldGUobWVzc2FnZS51aWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FZGl0PXtuZXdUZXh0ID0+IGhhbmRsZUxpc3RFZGl0KG1lc3NhZ2UudWlkLCBuZXdUZXh0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUnVuQWdhaW49eygpID0+IGhhbmRsZUxpc3RSdW5BZ2FpbihtZXNzYWdlLnVpZCl9IC8+KX1cclxuICAgICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9MaXN0PlxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9Cb3g+XHJcblxyXG4gICAgICAgIHsvKiBDb21wb3NlICovfVxyXG4gICAgICAgIDxCb3ggc3g9e3tcclxuICAgICAgICAgIHBvc2l0aW9uOiAnc3RpY2t5JywgYm90dG9tOiAwLCB6SW5kZXg6IDEwLFxyXG4gICAgICAgICAgYmFja2dyb3VuZDogdGhlbWUudmFycy5wYWxldHRlLmJhY2tncm91bmQuYm9keSxcclxuICAgICAgICAgIGJvcmRlclRvcDogJzFweCBzb2xpZCcsXHJcbiAgICAgICAgICBib3JkZXJUb3BDb2xvcjogdGhlbWUudmFycy5wYWxldHRlLmRpdmlkZXIsXHJcbiAgICAgICAgICBwOiB7IHhzOiAxLCBtZDogMiB9LFxyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAgPENvbXBvc2VyIGlzRGV2ZWxvcGVyPXtzZWxlY3RlZFN5c3RlbVB1cnBvc2UgPT09ICdEZXZlbG9wZXInfSBkaXNhYmxlU2VuZD17ZGlzYWJsZUNvbXBvc2V9IHNlbmRNZXNzYWdlPXtoYW5kbGVDb21wb3NlclNlbmRNZXNzYWdlfSAvPlxyXG4gICAgICAgIDwvQm94PlxyXG5cclxuICAgICAgPC9TdGFjaz5cclxuXHJcbiAgICAgIHsvKiBTZXR0aW5ncyBNb2RhbCAqL31cclxuICAgICAgPFNldHRpbmdzIG9wZW49e3NldHRpbmdzU2hvd259IG9uQ2xvc2U9eygpID0+IHNldFNldHRpbmdzU2hvd24oZmFsc2UpfSAvPlxyXG5cclxuICAgIDwvQ29udGFpbmVyPlxyXG4gICk7XHJcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJCb3giLCJDb250YWluZXIiLCJJY29uQnV0dG9uIiwiTGlzdCIsIk9wdGlvbiIsIlNlbGVjdCIsIlNoZWV0IiwiU3RhY2siLCJUeXBvZ3JhcGh5IiwidXNlQ29sb3JTY2hlbWUiLCJ1c2VUaGVtZSIsIlNldHRpbmdzT3V0bGluZWRJY29uIiwiQ2hhdE1lc3NhZ2UiLCJDb21wb3NlciIsImlzVmFsaWRPcGVuQUlBcGlLZXkiLCJsb2FkR3B0TW9kZWwiLCJsb2FkT3BlbkFJQXBpS2V5IiwiU2V0dGluZ3MiLCJQdXJwb3NlRGF0YSIsIkNhdGFseXN0Iiwic3lzdGVtTWVzc2FnZSIsImRlc2NyaXB0aW9uIiwiQ3VzdG9tIiwiRGV2ZWxvcGVyIiwiRXhlY3V0aXZlIiwiR2VuZXJpYyIsIlNjaWVudGlzdCIsIk1lc3NhZ2VEZWZhdWx0cyIsInN5c3RlbSIsInJvbGUiLCJzZW5kZXIiLCJhdmF0YXIiLCJ1c2VyIiwiYXNzaXN0YW50IiwiY3JlYXRlVWlNZXNzYWdlIiwidGV4dCIsInVpZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsIm1vZGVsIiwiQ29udmVyc2F0aW9uIiwidGhlbWUiLCJtb2RlIiwiY29sb3JNb2RlIiwic2V0TW9kZSIsInNldENvbG9yTW9kZSIsInNlbGVjdGVkU3lzdGVtUHVycG9zZSIsInNldFNlbGVjdGVkU3lzdGVtUHVycG9zZSIsInVzZVN0YXRlIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImRpc2FibGVDb21wb3NlIiwic2V0RGlzYWJsZUNvbXBvc2UiLCJzZXR0aW5nc1Nob3duIiwic2V0U2V0dGluZ3NTaG93biIsIm1lc3NhZ2VzRW5kUmVmIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJoYW5kbGVEYXJrTW9kZVRvZ2dsZSIsImhhbmRsZUxpc3RDbGVhciIsImhhbmRsZUxpc3REZWxldGUiLCJsaXN0IiwiZmlsdGVyIiwibWVzc2FnZSIsImhhbmRsZUxpc3RFZGl0IiwibmV3VGV4dCIsIm1hcCIsImhhbmRsZUxpc3RSdW5BZ2FpbiIsInVpZFBvc2l0aW9uIiwiZmluZEluZGV4IiwiY29udmVyc2F0aW9uIiwic2xpY2UiLCJnZXRCb3RNZXNzYWdlU3RyZWFtaW5nIiwidGhlbiIsImhhbmRsZVB1cnBvc2VDaGFuZ2UiLCJwdXJwb3NlIiwicHJvbXB0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFwaUtleSIsInJlYWRlciIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsIm5ld0JvdE1lc3NhZ2UiLCJ2YWx1ZSIsImRvbmUiLCJyZWFkIiwibWVzc2FnZVRleHQiLCJkZWNvZGUiLCJzdGFydHNXaXRoIiwiZW5kT2ZKc29uIiwiaW5kZXhPZiIsImpzb24iLCJwYXJzZWQiLCJwYXJzZSIsImUiLCJjb25zb2xlIiwibG9nIiwiZmluZCIsImhhbmRsZUNvbXBvc2VyU2VuZE1lc3NhZ2UiLCJsZW5ndGgiLCJyZXBsYWNlQWxsIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJwdXNoIiwibGlzdEVtcHR5IiwiRW1vamkiLCJwcm9wcyIsIm1heFdpZHRoIiwiZGlzYWJsZUd1dHRlcnMiLCJzeCIsImJveFNoYWRvdyIsInZhcnMiLCJzaGFkb3ciLCJsZyIsImRpcmVjdGlvbiIsIm1pbkhlaWdodCIsInZhcmlhbnQiLCJpbnZlcnRlZENvbG9ycyIsInBvc2l0aW9uIiwidG9wIiwiekluZGV4IiwicCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZ1giLCJ0ZXh0QWxpZ24iLCJmb250U2l6ZSIsImxpbmVIZWlnaHQiLCJteSIsImZvbnRXZWlnaHQiLCJvbkRvdWJsZUNsaWNrIiwiY29sb3IiLCJvbkNsaWNrIiwiZmxleEdyb3ciLCJiYWNrZ3JvdW5kIiwicGFsZXR0ZSIsImxldmVsMSIsImxldmVsIiwib25DaGFuZ2UiLCJ2IiwibWluV2lkdGgiLCJtdCIsImluZGV4IiwidWlNZXNzYWdlIiwib25EZWxldGUiLCJvbkVkaXQiLCJvblJ1bkFnYWluIiwiZGl2IiwicmVmIiwiYm90dG9tIiwiYm9yZGVyVG9wIiwiYm9yZGVyVG9wQ29sb3IiLCJkaXZpZGVyIiwieHMiLCJtZCIsImlzRGV2ZWxvcGVyIiwiZGlzYWJsZVNlbmQiLCJzZW5kTWVzc2FnZSIsIm9wZW4iLCJvbkNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "./node_modules/prismjs/themes/prism.css":
/*!***********************************************!*\
  !*** ./node_modules/prismjs/themes/prism.css ***!
  \***********************************************/
/***/ (() => {



/***/ }),

/***/ "@codesandbox/sandpack-react":
/*!**********************************************!*\
  !*** external "@codesandbox/sandpack-react" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@codesandbox/sandpack-react");

/***/ }),

/***/ "@emotion/react/jsx-dev-runtime":
/*!*************************************************!*\
  !*** external "@emotion/react/jsx-dev-runtime" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@emotion/react/jsx-dev-runtime");

/***/ }),

/***/ "@mui/icons-material/Clear":
/*!********************************************!*\
  !*** external "@mui/icons-material/Clear" ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/Clear");

/***/ }),

/***/ "@mui/icons-material/ContentCopy":
/*!**************************************************!*\
  !*** external "@mui/icons-material/ContentCopy" ***!
  \**************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/ContentCopy");

/***/ }),

/***/ "@mui/icons-material/ContentPasteGo":
/*!*****************************************************!*\
  !*** external "@mui/icons-material/ContentPasteGo" ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/ContentPasteGo");

/***/ }),

/***/ "@mui/icons-material/Edit":
/*!*******************************************!*\
  !*** external "@mui/icons-material/Edit" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/Edit");

/***/ }),

/***/ "@mui/icons-material/KeyboardArrowUp":
/*!******************************************************!*\
  !*** external "@mui/icons-material/KeyboardArrowUp" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/KeyboardArrowUp");

/***/ }),

/***/ "@mui/icons-material/MoreVert":
/*!***********************************************!*\
  !*** external "@mui/icons-material/MoreVert" ***!
  \***********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/MoreVert");

/***/ }),

/***/ "@mui/icons-material/PanTool":
/*!**********************************************!*\
  !*** external "@mui/icons-material/PanTool" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/PanTool");

/***/ }),

/***/ "@mui/icons-material/PlayArrowOutlined":
/*!********************************************************!*\
  !*** external "@mui/icons-material/PlayArrowOutlined" ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/PlayArrowOutlined");

/***/ }),

/***/ "@mui/icons-material/PostAdd":
/*!**********************************************!*\
  !*** external "@mui/icons-material/PostAdd" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/PostAdd");

/***/ }),

/***/ "@mui/icons-material/Replay":
/*!*********************************************!*\
  !*** external "@mui/icons-material/Replay" ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/Replay");

/***/ }),

/***/ "@mui/icons-material/SettingsOutlined":
/*!*******************************************************!*\
  !*** external "@mui/icons-material/SettingsOutlined" ***!
  \*******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/SettingsOutlined");

/***/ }),

/***/ "@mui/icons-material/SportsMartialArtsOutlined":
/*!****************************************************************!*\
  !*** external "@mui/icons-material/SportsMartialArtsOutlined" ***!
  \****************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/SportsMartialArtsOutlined");

/***/ }),

/***/ "@mui/icons-material/StopOutlined":
/*!***************************************************!*\
  !*** external "@mui/icons-material/StopOutlined" ***!
  \***************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/icons-material/StopOutlined");

/***/ }),

/***/ "@mui/joy":
/*!***************************!*\
  !*** external "@mui/joy" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("@mui/joy");

/***/ }),

/***/ "prismjs":
/*!**************************!*\
  !*** external "prismjs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs");

/***/ }),

/***/ "prismjs/components/prism-bash":
/*!************************************************!*\
  !*** external "prismjs/components/prism-bash" ***!
  \************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-bash");

/***/ }),

/***/ "prismjs/components/prism-java":
/*!************************************************!*\
  !*** external "prismjs/components/prism-java" ***!
  \************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-java");

/***/ }),

/***/ "prismjs/components/prism-javascript":
/*!******************************************************!*\
  !*** external "prismjs/components/prism-javascript" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-javascript");

/***/ }),

/***/ "prismjs/components/prism-json":
/*!************************************************!*\
  !*** external "prismjs/components/prism-json" ***!
  \************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-json");

/***/ }),

/***/ "prismjs/components/prism-python":
/*!**************************************************!*\
  !*** external "prismjs/components/prism-python" ***!
  \**************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-python");

/***/ }),

/***/ "prismjs/components/prism-typescript":
/*!******************************************************!*\
  !*** external "prismjs/components/prism-typescript" ***!
  \******************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("prismjs/components/prism-typescript");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/index.tsx"));
module.exports = __webpack_exports__;

})();